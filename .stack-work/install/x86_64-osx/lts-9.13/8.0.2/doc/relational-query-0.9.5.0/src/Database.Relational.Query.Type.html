<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- |</span><span>
</span><a name="line-2"></a><span class="hs-comment">-- Module      : Database.Relational.Query.Type</span><span>
</span><a name="line-3"></a><span class="hs-comment">-- Copyright   : 2013-2017 Kei Hibino</span><span>
</span><a name="line-4"></a><span class="hs-comment">-- License     : BSD3</span><span>
</span><a name="line-5"></a><span class="hs-comment">--</span><span>
</span><a name="line-6"></a><span class="hs-comment">-- Maintainer  : ex8k.hibino@gmail.com</span><span>
</span><a name="line-7"></a><span class="hs-comment">-- Stability   : experimental</span><span>
</span><a name="line-8"></a><span class="hs-comment">-- Portability : unknown</span><span>
</span><a name="line-9"></a><span class="hs-comment">--</span><span>
</span><a name="line-10"></a><span class="hs-comment">-- This module defines typed SQL.</span><span>
</span><a name="line-11"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Type</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-12"></a><span>  </span><span class="hs-comment">-- * Typed query statement</span><span>
</span><a name="line-13"></a><span>  </span><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier hs-type">Query</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedQuery"><span class="hs-identifier hs-var">unsafeTypedQuery</span></a><span class="hs-special">,</span><span>
</span><a name="line-14"></a><span>
</span><a name="line-15"></a><span>  </span><a href="Database.Relational.Query.Type.html#relationalQuery%27"><span class="hs-identifier hs-var">relationalQuery'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#relationalQuery"><span class="hs-identifier hs-var">relationalQuery</span></a><span class="hs-special">,</span><span>
</span><a name="line-16"></a><span>
</span><a name="line-17"></a><span>  </span><a href="Database.Relational.Query.Type.html#relationalQuerySQL"><span class="hs-identifier hs-var">relationalQuerySQL</span></a><span class="hs-special">,</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span>  </span><span class="hs-comment">-- * Typed update statement</span><span>
</span><a name="line-20"></a><span>  </span><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier hs-type">KeyUpdate</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedKeyUpdate"><span class="hs-identifier hs-var">unsafeTypedKeyUpdate</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedKeyUpdate"><span class="hs-identifier hs-var">typedKeyUpdate</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedKeyUpdateTable"><span class="hs-identifier hs-var">typedKeyUpdateTable</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedKeyUpdate"><span class="hs-identifier hs-var">derivedKeyUpdate</span></a><span class="hs-special">,</span><span>
</span><a name="line-21"></a><span>  </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedUpdate"><span class="hs-identifier hs-var">unsafeTypedUpdate</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedUpdate%27"><span class="hs-identifier hs-var">typedUpdate'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedUpdate"><span class="hs-identifier hs-var">typedUpdate</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedUpdate%27"><span class="hs-identifier hs-var">derivedUpdate'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedUpdate"><span class="hs-identifier hs-var">derivedUpdate</span></a><span class="hs-special">,</span><span>
</span><a name="line-22"></a><span>  </span><a href="Database.Relational.Query.Type.html#typedUpdateAllColumn"><span class="hs-identifier hs-var">typedUpdateAllColumn</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedUpdateAllColumn%27"><span class="hs-identifier hs-var">derivedUpdateAllColumn'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedUpdateAllColumn"><span class="hs-identifier hs-var">derivedUpdateAllColumn</span></a><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>  </span><a href="Database.Relational.Query.Type.html#restrictedUpdateAllColumn"><span class="hs-identifier hs-var">restrictedUpdateAllColumn</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#restrictedUpdateTableAllColumn"><span class="hs-identifier hs-var">restrictedUpdateTableAllColumn</span></a><span class="hs-special">,</span><span>
</span><a name="line-24"></a><span>
</span><a name="line-25"></a><span>  </span><a href="Database.Relational.Query.Type.html#updateSQL"><span class="hs-identifier hs-var">updateSQL</span></a><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span>  </span><span class="hs-comment">-- * Typed insert statement</span><span>
</span><a name="line-28"></a><span>  </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#untypeChunkInsert"><span class="hs-identifier hs-var">untypeChunkInsert</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#chunkSizeOfInsert"><span class="hs-identifier hs-var">chunkSizeOfInsert</span></a><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>  </span><a href="Database.Relational.Query.Type.html#unsafeTypedInsert%27"><span class="hs-identifier hs-var">unsafeTypedInsert'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedInsert"><span class="hs-identifier hs-var">unsafeTypedInsert</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsert%27"><span class="hs-identifier hs-var">typedInsert'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsert"><span class="hs-identifier hs-var">typedInsert</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedInsert"><span class="hs-identifier hs-var">derivedInsert</span></a><span class="hs-special">,</span><span>
</span><a name="line-30"></a><span>  </span><a href="Database.Relational.Query.Type.html#typedInsertValue%27"><span class="hs-identifier hs-var">typedInsertValue'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsertValue"><span class="hs-identifier hs-var">typedInsertValue</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedInsertValue%27"><span class="hs-identifier hs-var">derivedInsertValue'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedInsertValue"><span class="hs-identifier hs-var">derivedInsertValue</span></a><span class="hs-special">,</span><span>
</span><a name="line-31"></a><span>  </span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-type">InsertQuery</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedInsertQuery"><span class="hs-identifier hs-var">unsafeTypedInsertQuery</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsertQuery%27"><span class="hs-identifier hs-var">typedInsertQuery'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsertQuery"><span class="hs-identifier hs-var">typedInsertQuery</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedInsertQuery"><span class="hs-identifier hs-var">derivedInsertQuery</span></a><span class="hs-special">,</span><span>
</span><a name="line-32"></a><span>
</span><a name="line-33"></a><span>  </span><a href="Database.Relational.Query.Type.html#insertQuerySQL"><span class="hs-identifier hs-var">insertQuerySQL</span></a><span class="hs-special">,</span><span>
</span><a name="line-34"></a><span>
</span><a name="line-35"></a><span>  </span><span class="hs-comment">-- * Typed delete statement</span><span>
</span><a name="line-36"></a><span>  </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedDelete"><span class="hs-identifier hs-var">unsafeTypedDelete</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedDelete%27"><span class="hs-identifier hs-var">typedDelete'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#typedDelete"><span class="hs-identifier hs-var">typedDelete</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedDelete%27"><span class="hs-identifier hs-var">derivedDelete'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Type.html#derivedDelete"><span class="hs-identifier hs-var">derivedDelete</span></a><span class="hs-special">,</span><span>
</span><a name="line-37"></a><span>
</span><a name="line-38"></a><span>  </span><a href="Database.Relational.Query.Type.html#deleteSQL"><span class="hs-identifier hs-var">deleteSQL</span></a><span class="hs-special">,</span><span>
</span><a name="line-39"></a><span>
</span><a name="line-40"></a><span>  </span><span class="hs-comment">-- * Generalized interfaces</span><span>
</span><a name="line-41"></a><span>  </span><a href="Database.Relational.Query.Type.html#UntypeableNoFetch"><span class="hs-identifier hs-type">UntypeableNoFetch</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-42"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-43"></a><span>
</span><a name="line-44"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Monoid</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;&gt;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-45"></a><span>
</span><a name="line-46"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Record</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">PersistableWidth</span><span class="hs-special">)</span><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Internal.Config.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Internal</span><span class="hs-operator">.</span><span class="hs-identifier">Config</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span class="hs-special">)</span><span>
</span><a name="line-49"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Internal.SQL.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Internal</span><span class="hs-operator">.</span><span class="hs-identifier">SQL</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Internal.SQL.html#showStringSQL"><span class="hs-identifier hs-var">showStringSQL</span></a><span class="hs-special">)</span><span>
</span><a name="line-50"></a><span>
</span><a name="line-51"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">BaseType</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#sqlFromRelationWith"><span class="hs-identifier hs-var">sqlFromRelationWith</span></a><span class="hs-special">)</span><span>
</span><a name="line-52"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Monad.Restrict.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">Restrict</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Monad.Restrict.html#RestrictedStatement"><span class="hs-identifier hs-type">RestrictedStatement</span></a><span class="hs-special">)</span><span>
</span><a name="line-53"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Monad.Assign.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">Assign</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Monad.Assign.html#AssignStatement"><span class="hs-identifier hs-type">AssignStatement</span></a><span class="hs-special">)</span><span>
</span><a name="line-54"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Monad.Register.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Monad</span><span class="hs-operator">.</span><span class="hs-identifier">Register</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Monad.Register.html#Register"><span class="hs-identifier hs-type">Register</span></a><span class="hs-special">)</span><span>
</span><a name="line-55"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Relation.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Relation</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Relation.html#tableOf"><span class="hs-identifier hs-var">tableOf</span></a><span class="hs-special">)</span><span>
</span><a name="line-56"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Effect.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Effect</span></a><span>
</span><a name="line-57"></a><span>  </span><span class="hs-special">(</span><a href="Database.Relational.Query.Effect.html#Restriction"><span class="hs-identifier hs-type">Restriction</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#restriction%27"><span class="hs-identifier hs-var">restriction'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#UpdateTarget"><span class="hs-identifier hs-type">UpdateTarget</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#updateTarget%27"><span class="hs-identifier hs-var">updateTarget'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#liftTargetAllColumn%27"><span class="hs-identifier hs-var">liftTargetAllColumn'</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#InsertTarget"><span class="hs-identifier hs-type">InsertTarget</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#insertTarget%27"><span class="hs-identifier hs-var">insertTarget'</span></a><span class="hs-special">,</span><span>
</span><a name="line-58"></a><span>   </span><a href="Database.Relational.Query.Effect.html#sqlWhereFromRestriction"><span class="hs-identifier hs-var">sqlWhereFromRestriction</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#sqlFromUpdateTarget"><span class="hs-identifier hs-var">sqlFromUpdateTarget</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#piRegister"><span class="hs-identifier hs-var">piRegister</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#sqlChunkFromInsertTarget"><span class="hs-identifier hs-var">sqlChunkFromInsertTarget</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Effect.html#sqlFromInsertTarget"><span class="hs-identifier hs-var">sqlFromInsertTarget</span></a><span class="hs-special">)</span><span>
</span><a name="line-59"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Pi.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Pi</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span class="hs-special">)</span><span>
</span><a name="line-60"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Table.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Table</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span class="hs-special">)</span><span>
</span><a name="line-61"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.Projectable.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">Projectable</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span class="hs-special">)</span><span>
</span><a name="line-62"></a><span class="hs-keyword">import</span><span> </span><a href="Database.Relational.Query.SQL.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">Relational</span><span class="hs-operator">.</span><span class="hs-identifier">Query</span><span class="hs-operator">.</span><span class="hs-identifier">SQL</span></a><span>
</span><a name="line-63"></a><span>  </span><span class="hs-special">(</span><a href="Database.Relational.Query.SQL.html#QuerySuffix"><span class="hs-identifier hs-type">QuerySuffix</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.SQL.html#showsQuerySuffix"><span class="hs-identifier hs-var">showsQuerySuffix</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.SQL.html#insertPrefixSQL"><span class="hs-identifier hs-var">insertPrefixSQL</span></a><span class="hs-special">,</span><span>
</span><a name="line-64"></a><span>   </span><a href="Database.Relational.Query.SQL.html#updateOtherThanKeySQL"><span class="hs-identifier hs-var">updateOtherThanKeySQL</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.SQL.html#updatePrefixSQL"><span class="hs-identifier hs-var">updatePrefixSQL</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.SQL.html#deletePrefixSQL"><span class="hs-identifier hs-var">deletePrefixSQL</span></a><span class="hs-special">)</span><span>
</span><a name="line-65"></a><span>
</span><a name="line-66"></a><span>
</span><a name="line-67"></a><span class="hs-comment">-- | Query type with place-holder parameter 'p' and query result type 'a'.</span><span>
</span><a name="line-68"></a><span class="hs-keyword">newtype</span><span> </span><a name="Query"><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier">Query</span></a></a><span> </span><a name="local-6989586621679474463"><a href="#local-6989586621679474463"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679474464"><a href="#local-6989586621679474464"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Query"><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier">Query</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="untypeQuery"><a href="Database.Relational.Query.Type.html#untypeQuery"><span class="hs-identifier">untypeQuery</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-69"></a><span>
</span><a name="line-70"></a><span class="hs-comment">-- | Unsafely make typed 'Query' from SQL string.</span><span>
</span><a name="line-71"></a><span class="hs-identifier">unsafeTypedQuery</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>    </span><span class="hs-comment">-- ^ Query SQL to type</span><span>
</span><a name="line-72"></a><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier hs-type">Query</span></a><span> </span><a href="#local-6989586621679474548"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474549"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-comment">-- ^ Typed result</span><span>
</span><a name="line-73"></a><a name="unsafeTypedQuery"><a href="Database.Relational.Query.Type.html#unsafeTypedQuery"><span class="hs-identifier">unsafeTypedQuery</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier hs-var">Query</span></a><span>
</span><a name="line-74"></a><span>
</span><a name="line-75"></a><span class="hs-comment">-- | Show query SQL string</span><span>
</span><a name="line-76"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier hs-type">Query</span></a><span> </span><a href="#local-6989586621679474611"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474612"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-77"></a><span>  </span><a name="local-8214565720323790731"><span class="hs-identifier">show</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeQuery</span><span>
</span><a name="line-78"></a><span>
</span><a name="line-79"></a><span class="hs-comment">-- | From 'Relation' into untyped SQL query string.</span><span>
</span><a name="line-80"></a><span class="hs-identifier">relationalQuerySQL</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><a href="#local-6989586621679474546"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474547"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.SQL.html#QuerySuffix"><span class="hs-identifier hs-type">QuerySuffix</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-81"></a><a name="relationalQuerySQL"><a href="Database.Relational.Query.Type.html#relationalQuerySQL"><span class="hs-identifier">relationalQuerySQL</span></a></a><span> </span><a name="local-6989586621679474550"><a href="#local-6989586621679474550"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474551"><a href="#local-6989586621679474551"><span class="hs-identifier">rel</span></a></a><span> </span><a name="local-6989586621679474552"><a href="#local-6989586621679474552"><span class="hs-identifier">qsuf</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Internal.SQL.html#showStringSQL"><span class="hs-identifier hs-var">showStringSQL</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#sqlFromRelationWith"><span class="hs-identifier hs-var">sqlFromRelationWith</span></a><span> </span><a href="#local-6989586621679474551"><span class="hs-identifier hs-var">rel</span></a><span> </span><a href="#local-6989586621679474550"><span class="hs-identifier hs-var">config</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Database.Relational.Query.SQL.html#showsQuerySuffix"><span class="hs-identifier hs-var">showsQuerySuffix</span></a><span> </span><a href="#local-6989586621679474552"><span class="hs-identifier hs-var">qsuf</span></a><span>
</span><a name="line-82"></a><span>
</span><a name="line-83"></a><span class="hs-comment">-- | From 'Relation' into typed 'Query' with suffix SQL words.</span><span>
</span><a name="line-84"></a><span class="hs-identifier">relationalQuery'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><a href="#local-6989586621679474544"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474545"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.SQL.html#QuerySuffix"><span class="hs-identifier hs-type">QuerySuffix</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier hs-type">Query</span></a><span> </span><a href="#local-6989586621679474544"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474545"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-85"></a><a name="relationalQuery%27"><a href="Database.Relational.Query.Type.html#relationalQuery%27"><span class="hs-identifier">relationalQuery'</span></a></a><span> </span><a name="local-6989586621679474553"><a href="#local-6989586621679474553"><span class="hs-identifier">rel</span></a></a><span> </span><a name="local-6989586621679474554"><a href="#local-6989586621679474554"><span class="hs-identifier">qsuf</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedQuery"><span class="hs-identifier hs-var">unsafeTypedQuery</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Type.html#relationalQuerySQL"><span class="hs-identifier hs-var">relationalQuerySQL</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span> </span><a href="#local-6989586621679474553"><span class="hs-identifier hs-var">rel</span></a><span> </span><a href="#local-6989586621679474554"><span class="hs-identifier hs-var">qsuf</span></a><span>
</span><a name="line-86"></a><span>
</span><a name="line-87"></a><span class="hs-comment">-- | From 'Relation' into typed 'Query'.</span><span>
</span><a name="line-88"></a><span class="hs-identifier">relationalQuery</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><a href="#local-6989586621679474542"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474543"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Query"><span class="hs-identifier hs-type">Query</span></a><span> </span><a href="#local-6989586621679474542"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474543"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-89"></a><a name="relationalQuery"><a href="Database.Relational.Query.Type.html#relationalQuery"><span class="hs-identifier">relationalQuery</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-special">(</span><span class="hs-special">`</span><a href="Database.Relational.Query.Type.html#relationalQuery%27"><span class="hs-identifier hs-var">relationalQuery'</span></a><span class="hs-special">`</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-90"></a><span>
</span><a name="line-91"></a><span>
</span><a name="line-92"></a><span class="hs-comment">-- | Update type with key type 'p' and update record type 'a'.</span><span>
</span><a name="line-93"></a><span class="hs-comment">--   Columns to update are record columns other than key columns,</span><span>
</span><a name="line-94"></a><span class="hs-comment">--   So place-holder parameter type is the same as record type 'a'.</span><span>
</span><a name="line-95"></a><span class="hs-keyword">data</span><span> </span><a name="KeyUpdate"><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier">KeyUpdate</span></a></a><span> </span><a name="local-6989586621679474461"><a href="#local-6989586621679474461"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679474462"><a href="#local-6989586621679474462"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="KeyUpdate"><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier">KeyUpdate</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="updateKey"><a href="Database.Relational.Query.Type.html#updateKey"><span class="hs-identifier">updateKey</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474462"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679474461"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-96"></a><span>                               </span><span class="hs-special">,</span><span> </span><a name="untypeKeyUpdate"><a href="Database.Relational.Query.Type.html#untypeKeyUpdate"><span class="hs-identifier">untypeKeyUpdate</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-97"></a><span>                               </span><span class="hs-special">}</span><span>
</span><a name="line-98"></a><span>
</span><a name="line-99"></a><span class="hs-comment">-- | Unsafely make typed 'KeyUpdate' from SQL string.</span><span>
</span><a name="line-100"></a><span class="hs-identifier">unsafeTypedKeyUpdate</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474540"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679474541"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier hs-type">KeyUpdate</span></a><span> </span><a href="#local-6989586621679474541"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474540"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-101"></a><a name="unsafeTypedKeyUpdate"><a href="Database.Relational.Query.Type.html#unsafeTypedKeyUpdate"><span class="hs-identifier">unsafeTypedKeyUpdate</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier hs-var">KeyUpdate</span></a><span>
</span><a name="line-102"></a><span>
</span><a name="line-103"></a><span class="hs-comment">-- | Make typed 'KeyUpdate' from 'Table' and key columns selector 'Pi'.</span><span>
</span><a name="line-104"></a><span class="hs-identifier">typedKeyUpdate</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474538"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474538"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679474539"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier hs-type">KeyUpdate</span></a><span> </span><a href="#local-6989586621679474539"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474538"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-105"></a><a name="typedKeyUpdate"><a href="Database.Relational.Query.Type.html#typedKeyUpdate"><span class="hs-identifier">typedKeyUpdate</span></a></a><span> </span><a name="local-6989586621679474555"><a href="#local-6989586621679474555"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474556"><a href="#local-6989586621679474556"><span class="hs-identifier">key</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedKeyUpdate"><span class="hs-identifier hs-var">unsafeTypedKeyUpdate</span></a><span> </span><a href="#local-6989586621679474556"><span class="hs-identifier hs-var">key</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.SQL.html#updateOtherThanKeySQL"><span class="hs-identifier hs-var">updateOtherThanKeySQL</span></a><span> </span><a href="#local-6989586621679474555"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474556"><span class="hs-identifier hs-var">key</span></a><span>
</span><a name="line-106"></a><span>
</span><a name="line-107"></a><span class="hs-comment">-- | Make typed 'KeyUpdate' object using derived info specified by 'Relation' type.</span><span>
</span><a name="line-108"></a><span class="hs-identifier">typedKeyUpdateTable</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474536"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679474536"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474536"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474537"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier hs-type">KeyUpdate</span></a><span> </span><a href="#local-6989586621679474537"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474536"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-109"></a><a name="typedKeyUpdateTable"><a href="Database.Relational.Query.Type.html#typedKeyUpdateTable"><span class="hs-identifier">typedKeyUpdateTable</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#typedKeyUpdate"><span class="hs-identifier hs-var">typedKeyUpdate</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Database.Relational.Query.Relation.html#tableOf"><span class="hs-identifier hs-var">tableOf</span></a><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-comment">-- derivedKeyUpdate'</span><span>
</span><a name="line-112"></a><span class="hs-comment">-- Config parameter is not yet required for KeyUpdate.</span><span>
</span><a name="line-113"></a><span>
</span><a name="line-114"></a><span class="hs-comment">-- | Make typed 'KeyUpdate' from derived table and key columns selector 'Pi'.</span><span>
</span><a name="line-115"></a><span class="hs-identifier">derivedKeyUpdate</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474534"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474534"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474535"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier hs-type">KeyUpdate</span></a><span> </span><a href="#local-6989586621679474535"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474534"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-116"></a><a name="derivedKeyUpdate"><a href="Database.Relational.Query.Type.html#derivedKeyUpdate"><span class="hs-identifier">derivedKeyUpdate</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedKeyUpdate"><span class="hs-identifier hs-var">typedKeyUpdate</span></a><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span>
</span><a name="line-117"></a><span>
</span><a name="line-118"></a><span class="hs-comment">-- | Show update SQL string</span><span>
</span><a name="line-119"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#KeyUpdate"><span class="hs-identifier hs-type">KeyUpdate</span></a><span> </span><a href="#local-6989586621679474609"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474610"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-120"></a><span>  </span><a name="local-8214565720323790731"><span class="hs-identifier">show</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeKeyUpdate</span><span>
</span><a name="line-121"></a><span>
</span><a name="line-122"></a><span>
</span><a name="line-123"></a><span class="hs-comment">-- | Update type with place-holder parameter 'p'.</span><span>
</span><a name="line-124"></a><span class="hs-keyword">newtype</span><span> </span><a name="Update"><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier">Update</span></a></a><span> </span><a name="local-6989586621679474460"><a href="#local-6989586621679474460"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Update"><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier">Update</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="untypeUpdate"><a href="Database.Relational.Query.Type.html#untypeUpdate"><span class="hs-identifier">untypeUpdate</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-125"></a><span>
</span><a name="line-126"></a><span class="hs-comment">-- | Unsafely make typed 'Update' from SQL string.</span><span>
</span><a name="line-127"></a><span class="hs-identifier">unsafeTypedUpdate</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><a href="#local-6989586621679474533"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-128"></a><a name="unsafeTypedUpdate"><a href="Database.Relational.Query.Type.html#unsafeTypedUpdate"><span class="hs-identifier">unsafeTypedUpdate</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-var">Update</span></a><span>
</span><a name="line-129"></a><span>
</span><a name="line-130"></a><span class="hs-comment">-- | Make untyped update SQL string from 'Table' and 'UpdateTarget'.</span><span>
</span><a name="line-131"></a><span class="hs-identifier">updateSQL</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474531"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#UpdateTarget"><span class="hs-identifier hs-type">UpdateTarget</span></a><span> </span><a href="#local-6989586621679474532"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474531"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-132"></a><a name="updateSQL"><a href="Database.Relational.Query.Type.html#updateSQL"><span class="hs-identifier">updateSQL</span></a></a><span> </span><a name="local-6989586621679474557"><a href="#local-6989586621679474557"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474558"><a href="#local-6989586621679474558"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474559"><a href="#local-6989586621679474559"><span class="hs-identifier">ut</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Internal.SQL.html#showStringSQL"><span class="hs-identifier hs-var">showStringSQL</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.SQL.html#updatePrefixSQL"><span class="hs-identifier hs-var">updatePrefixSQL</span></a><span> </span><a href="#local-6989586621679474558"><span class="hs-identifier hs-var">tbl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#sqlFromUpdateTarget"><span class="hs-identifier hs-var">sqlFromUpdateTarget</span></a><span> </span><a href="#local-6989586621679474557"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474558"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474559"><span class="hs-identifier hs-var">ut</span></a><span>
</span><a name="line-133"></a><span>
</span><a name="line-134"></a><span class="hs-comment">-- | Make typed 'Update' from 'Config', 'Table' and 'UpdateTarget'.</span><span>
</span><a name="line-135"></a><span class="hs-identifier">typedUpdate'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474529"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#UpdateTarget"><span class="hs-identifier hs-type">UpdateTarget</span></a><span> </span><a href="#local-6989586621679474530"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474529"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><a href="#local-6989586621679474530"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-136"></a><a name="typedUpdate%27"><a href="Database.Relational.Query.Type.html#typedUpdate%27"><span class="hs-identifier">typedUpdate'</span></a></a><span> </span><a name="local-6989586621679474560"><a href="#local-6989586621679474560"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474561"><a href="#local-6989586621679474561"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474562"><a href="#local-6989586621679474562"><span class="hs-identifier">ut</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedUpdate"><span class="hs-identifier hs-var">unsafeTypedUpdate</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Type.html#updateSQL"><span class="hs-identifier hs-var">updateSQL</span></a><span> </span><a href="#local-6989586621679474560"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474561"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474562"><span class="hs-identifier hs-var">ut</span></a><span>
</span><a name="line-137"></a><span>
</span><a name="line-138"></a><span class="hs-comment">-- | Make typed 'Update' using 'defaultConfig', 'Table' and 'UpdateTarget'.</span><span>
</span><a name="line-139"></a><span class="hs-identifier">typedUpdate</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474527"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#UpdateTarget"><span class="hs-identifier hs-type">UpdateTarget</span></a><span> </span><a href="#local-6989586621679474528"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474527"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><a href="#local-6989586621679474528"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-140"></a><a name="typedUpdate"><a href="Database.Relational.Query.Type.html#typedUpdate"><span class="hs-identifier">typedUpdate</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#typedUpdate%27"><span class="hs-identifier hs-var">typedUpdate'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-141"></a><span>
</span><a name="line-142"></a><span class="hs-identifier">targetTable</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474525"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#UpdateTarget"><span class="hs-identifier hs-type">UpdateTarget</span></a><span> </span><a href="#local-6989586621679474526"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474525"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474525"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-143"></a><a name="targetTable"><a href="Database.Relational.Query.Type.html#targetTable"><span class="hs-identifier">targetTable</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier hs-var">const</span><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span>
</span><a name="line-144"></a><span>
</span><a name="line-145"></a><span class="hs-comment">-- | Make typed 'Update' from 'Config', derived table and 'AssignStatement'</span><span>
</span><a name="line-146"></a><span class="hs-identifier">derivedUpdate'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474523"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Assign.html#AssignStatement"><span class="hs-identifier hs-type">AssignStatement</span></a><span> </span><a href="#local-6989586621679474523"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474524"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><a href="#local-6989586621679474524"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-147"></a><a name="derivedUpdate%27"><a href="Database.Relational.Query.Type.html#derivedUpdate%27"><span class="hs-identifier">derivedUpdate'</span></a></a><span> </span><a name="local-6989586621679474563"><a href="#local-6989586621679474563"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474564"><a href="#local-6989586621679474564"><span class="hs-identifier">utc</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#typedUpdate%27"><span class="hs-identifier hs-var">typedUpdate'</span></a><span> </span><a href="#local-6989586621679474563"><span class="hs-identifier hs-var">config</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#targetTable"><span class="hs-identifier hs-var">targetTable</span></a><span> </span><a href="#local-6989586621679474565"><span class="hs-identifier hs-var">ut</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679474565"><span class="hs-identifier hs-var">ut</span></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-148"></a><span>  </span><a name="local-6989586621679474565"><a href="#local-6989586621679474565"><span class="hs-identifier">ut</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Effect.html#updateTarget%27"><span class="hs-identifier hs-var">updateTarget'</span></a><span> </span><a href="#local-6989586621679474564"><span class="hs-identifier hs-var">utc</span></a><span>
</span><a name="line-149"></a><span>
</span><a name="line-150"></a><span class="hs-comment">-- | Make typed 'Update' from 'defaultConfig', derived table and 'AssignStatement'</span><span>
</span><a name="line-151"></a><span class="hs-identifier">derivedUpdate</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474521"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Assign.html#AssignStatement"><span class="hs-identifier hs-type">AssignStatement</span></a><span> </span><a href="#local-6989586621679474521"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474522"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><a href="#local-6989586621679474522"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-152"></a><a name="derivedUpdate"><a href="Database.Relational.Query.Type.html#derivedUpdate"><span class="hs-identifier">derivedUpdate</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#derivedUpdate%27"><span class="hs-identifier hs-var">derivedUpdate'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-153"></a><span>
</span><a name="line-154"></a><span>
</span><a name="line-155"></a><span class="hs-comment">-- | Make typed 'Update' from 'Config', 'Table' and 'Restriction'.</span><span>
</span><a name="line-156"></a><span class="hs-comment">--   Update target is all column.</span><span>
</span><a name="line-157"></a><span class="hs-identifier">typedUpdateAllColumn'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474519"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-158"></a><span>                      </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span>
</span><a name="line-159"></a><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474519"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-160"></a><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#Restriction"><span class="hs-identifier hs-type">Restriction</span></a><span> </span><a href="#local-6989586621679474520"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474519"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-161"></a><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679474519"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679474520"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-162"></a><a name="typedUpdateAllColumn%27"><a href="Database.Relational.Query.Type.html#typedUpdateAllColumn%27"><span class="hs-identifier">typedUpdateAllColumn'</span></a></a><span> </span><a name="local-6989586621679474566"><a href="#local-6989586621679474566"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474567"><a href="#local-6989586621679474567"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474568"><a href="#local-6989586621679474568"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedUpdate%27"><span class="hs-identifier hs-var">typedUpdate'</span></a><span> </span><a href="#local-6989586621679474566"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474567"><span class="hs-identifier hs-var">tbl</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Effect.html#liftTargetAllColumn%27"><span class="hs-identifier hs-var">liftTargetAllColumn'</span></a><span> </span><a href="#local-6989586621679474568"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-163"></a><span>
</span><a name="line-164"></a><span class="hs-comment">-- | Make typed 'Update' from 'Table' and 'Restriction'.</span><span>
</span><a name="line-165"></a><span class="hs-comment">--   Update target is all column.</span><span>
</span><a name="line-166"></a><span class="hs-identifier">typedUpdateAllColumn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474517"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-167"></a><span>                     </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474517"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-168"></a><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#Restriction"><span class="hs-identifier hs-type">Restriction</span></a><span> </span><a href="#local-6989586621679474518"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474517"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-169"></a><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679474517"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679474518"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-170"></a><a name="typedUpdateAllColumn"><a href="Database.Relational.Query.Type.html#typedUpdateAllColumn"><span class="hs-identifier">typedUpdateAllColumn</span></a></a><span> </span><a name="local-6989586621679474569"><a href="#local-6989586621679474569"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474570"><a href="#local-6989586621679474570"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedUpdate"><span class="hs-identifier hs-var">typedUpdate</span></a><span> </span><a href="#local-6989586621679474569"><span class="hs-identifier hs-var">tbl</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Effect.html#liftTargetAllColumn%27"><span class="hs-identifier hs-var">liftTargetAllColumn'</span></a><span> </span><a href="#local-6989586621679474570"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-171"></a><span>
</span><a name="line-172"></a><span class="hs-comment">-- | Make typed 'Update' from 'Config', derived table and 'AssignStatement'.</span><span>
</span><a name="line-173"></a><span class="hs-comment">--   Update target is all column.</span><span>
</span><a name="line-174"></a><span class="hs-identifier">derivedUpdateAllColumn'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474515"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474515"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span>
</span><a name="line-175"></a><span>                        </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span>
</span><a name="line-176"></a><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Restrict.html#RestrictedStatement"><span class="hs-identifier hs-type">RestrictedStatement</span></a><span> </span><a href="#local-6989586621679474515"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474516"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-177"></a><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679474515"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679474516"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-178"></a><a name="derivedUpdateAllColumn%27"><a href="Database.Relational.Query.Type.html#derivedUpdateAllColumn%27"><span class="hs-identifier">derivedUpdateAllColumn'</span></a></a><span> </span><a name="local-6989586621679474571"><a href="#local-6989586621679474571"><span class="hs-identifier">config</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedUpdateAllColumn%27"><span class="hs-identifier hs-var">typedUpdateAllColumn'</span></a><span> </span><a href="#local-6989586621679474571"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span> </span><span class="hs-operator hs-var">.</span><a href="Database.Relational.Query.Effect.html#restriction%27"><span class="hs-identifier hs-var">restriction'</span></a><span>
</span><a name="line-179"></a><span>
</span><a name="line-180"></a><span class="hs-comment">-- | Make typed 'Update' from 'defaultConfig', derived table and 'AssignStatement'.</span><span>
</span><a name="line-181"></a><span class="hs-comment">--   Update target is all column.</span><span>
</span><a name="line-182"></a><span class="hs-identifier">derivedUpdateAllColumn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474513"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474513"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span>
</span><a name="line-183"></a><span>                       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Restrict.html#RestrictedStatement"><span class="hs-identifier hs-type">RestrictedStatement</span></a><span> </span><a href="#local-6989586621679474513"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474514"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-184"></a><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679474513"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679474514"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-185"></a><a name="derivedUpdateAllColumn"><a href="Database.Relational.Query.Type.html#derivedUpdateAllColumn"><span class="hs-identifier">derivedUpdateAllColumn</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#derivedUpdateAllColumn%27"><span class="hs-identifier hs-var">derivedUpdateAllColumn'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-186"></a><span>
</span><a name="line-187"></a><span class="hs-pragma">{-# DEPRECATED restrictedUpdateAllColumn &quot;Use derivedUpdateAllColumn or typedUpdateAllColumn instead of this.&quot; #-}</span><span>
</span><a name="line-188"></a><span class="hs-comment">-- | Directly make typed 'Update' from 'Table' and 'Restrict' monad context.</span><span>
</span><a name="line-189"></a><span class="hs-comment">--   Update target is all column.</span><span>
</span><a name="line-190"></a><span class="hs-identifier">restrictedUpdateAllColumn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474511"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-191"></a><span>                           </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474511"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-192"></a><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Restrict.html#RestrictedStatement"><span class="hs-identifier hs-type">RestrictedStatement</span></a><span> </span><a href="#local-6989586621679474511"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474512"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ 'Restrict' monad context</span><span>
</span><a name="line-193"></a><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679474511"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679474512"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-194"></a><a name="restrictedUpdateAllColumn"><a href="Database.Relational.Query.Type.html#restrictedUpdateAllColumn"><span class="hs-identifier">restrictedUpdateAllColumn</span></a></a><span> </span><a name="local-6989586621679474572"><a href="#local-6989586621679474572"><span class="hs-identifier">tbl</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedUpdateAllColumn"><span class="hs-identifier hs-var">typedUpdateAllColumn</span></a><span> </span><a href="#local-6989586621679474572"><span class="hs-identifier hs-var">tbl</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Database.Relational.Query.Effect.html#restriction%27"><span class="hs-identifier hs-var">restriction'</span></a><span>
</span><a name="line-195"></a><span>
</span><a name="line-196"></a><span class="hs-pragma">{-# DEPRECATED restrictedUpdateTableAllColumn &quot;Use derivedUpdateAllColumn or typedUpdateAllColumn instead of this.&quot; #-}</span><span>
</span><a name="line-197"></a><span class="hs-comment">-- | Directly make typed 'Update' from 'Table' and 'Restrict' monad context.</span><span>
</span><a name="line-198"></a><span class="hs-comment">--   Update target is all column.</span><span>
</span><a name="line-199"></a><span class="hs-identifier">restrictedUpdateTableAllColumn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474509"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474509"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span>
</span><a name="line-200"></a><span>                               </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679474509"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-201"></a><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Restrict.html#RestrictedStatement"><span class="hs-identifier hs-type">RestrictedStatement</span></a><span> </span><a href="#local-6989586621679474509"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474510"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-202"></a><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679474509"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679474510"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span>
</span><a name="line-203"></a><a name="restrictedUpdateTableAllColumn"><a href="Database.Relational.Query.Type.html#restrictedUpdateTableAllColumn"><span class="hs-identifier">restrictedUpdateTableAllColumn</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#restrictedUpdateAllColumn"><span class="hs-identifier hs-var">restrictedUpdateAllColumn</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Database.Relational.Query.Relation.html#tableOf"><span class="hs-identifier hs-var">tableOf</span></a><span>
</span><a name="line-204"></a><span>
</span><a name="line-205"></a><span class="hs-comment">-- | Show update SQL string</span><span>
</span><a name="line-206"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><a href="#local-6989586621679474608"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-207"></a><span>  </span><a name="local-8214565720323790731"><span class="hs-identifier">show</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeUpdate</span><span>
</span><a name="line-208"></a><span>
</span><a name="line-209"></a><span>
</span><a name="line-210"></a><span class="hs-comment">-- | Insert type to insert record type 'a'.</span><span>
</span><a name="line-211"></a><span class="hs-keyword">data</span><span> </span><a name="Insert"><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier">Insert</span></a></a><span> </span><a name="local-6989586621679474459"><a href="#local-6989586621679474459"><span class="hs-identifier">a</span></a></a><span>   </span><span class="hs-glyph">=</span><span>
</span><a name="line-212"></a><span>  </span><a name="Insert"><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier">Insert</span></a></a><span>
</span><a name="line-213"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="untypeInsert"><a href="Database.Relational.Query.Type.html#untypeInsert"><span class="hs-identifier">untypeInsert</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-214"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="chunkedInsert"><a href="Database.Relational.Query.Type.html#chunkedInsert"><span class="hs-identifier">chunkedInsert</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">String</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Int</span><span class="hs-special">)</span><span>
</span><a name="line-215"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-216"></a><span>
</span><a name="line-217"></a><span class="hs-comment">-- | Statement to use chunked insert</span><span>
</span><a name="line-218"></a><span class="hs-identifier">untypeChunkInsert</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474508"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-219"></a><a name="untypeChunkInsert"><a href="Database.Relational.Query.Type.html#untypeChunkInsert"><span class="hs-identifier">untypeChunkInsert</span></a></a><span> </span><a name="local-6989586621679474573"><a href="#local-6989586621679474573"><span class="hs-identifier">ins</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">untypeInsert</span><span> </span><a href="#local-6989586621679474573"><span class="hs-identifier hs-var">ins</span></a><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">fst</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">chunkedInsert</span><span> </span><a href="#local-6989586621679474573"><span class="hs-identifier hs-var">ins</span></a><span>
</span><a name="line-220"></a><span>
</span><a name="line-221"></a><span class="hs-comment">-- | Size to use chunked insert</span><span>
</span><a name="line-222"></a><span class="hs-identifier">chunkSizeOfInsert</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474507"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-223"></a><a name="chunkSizeOfInsert"><a href="Database.Relational.Query.Type.html#chunkSizeOfInsert"><span class="hs-identifier">chunkSizeOfInsert</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-identifier hs-var">snd</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">chunkedInsert</span><span>
</span><a name="line-224"></a><span>
</span><a name="line-225"></a><span class="hs-comment">-- | Unsafely make typed 'Insert' from single insert and chunked insert SQL.</span><span>
</span><a name="line-226"></a><span class="hs-identifier">unsafeTypedInsert'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474506"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-227"></a><a name="unsafeTypedInsert%27"><a href="Database.Relational.Query.Type.html#unsafeTypedInsert%27"><span class="hs-identifier">unsafeTypedInsert'</span></a></a><span> </span><a name="local-6989586621679474574"><a href="#local-6989586621679474574"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">curry</span><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-var">Insert</span></a><span> </span><a href="#local-6989586621679474574"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">Just</span><span class="hs-special">)</span><span>
</span><a name="line-228"></a><span>
</span><a name="line-229"></a><span class="hs-comment">-- | Unsafely make typed 'Insert' from single insert SQL.</span><span>
</span><a name="line-230"></a><span class="hs-identifier">unsafeTypedInsert</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474505"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-231"></a><a name="unsafeTypedInsert"><a href="Database.Relational.Query.Type.html#unsafeTypedInsert"><span class="hs-identifier">unsafeTypedInsert</span></a></a><span> </span><a name="local-6989586621679474575"><a href="#local-6989586621679474575"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-var">Insert</span></a><span> </span><a href="#local-6989586621679474575"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-232"></a><span>
</span><a name="line-233"></a><span class="hs-comment">-- | Make typed 'Insert' from 'Table' and columns selector 'Pi' with configuration parameter.</span><span>
</span><a name="line-234"></a><span class="hs-identifier">typedInsert'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474503"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474503"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474503"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474504"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474504"><span class="hs-identifier hs-type">r'</span></a><span>
</span><a name="line-235"></a><a name="typedInsert%27"><a href="Database.Relational.Query.Type.html#typedInsert%27"><span class="hs-identifier">typedInsert'</span></a></a><span> </span><a name="local-6989586621679474576"><a href="#local-6989586621679474576"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474577"><a href="#local-6989586621679474577"><span class="hs-identifier">tbl</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-236"></a><span>  </span><a href="Database.Relational.Query.Type.html#typedInsertValue%27"><span class="hs-identifier hs-var">typedInsertValue'</span></a><span> </span><a href="#local-6989586621679474576"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474577"><span class="hs-identifier hs-var">tbl</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Database.Relational.Query.Effect.html#insertTarget%27"><span class="hs-identifier hs-var">insertTarget'</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Database.Relational.Query.Effect.html#piRegister"><span class="hs-identifier hs-var">piRegister</span></a><span>
</span><a name="line-237"></a><span>
</span><a name="line-238"></a><span class="hs-comment">-- | Make typed 'Insert' from 'Table' and columns selector 'Pi'.</span><span>
</span><a name="line-239"></a><span class="hs-identifier">typedInsert</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474501"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474501"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474501"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474502"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474502"><span class="hs-identifier hs-type">r'</span></a><span>
</span><a name="line-240"></a><a name="typedInsert"><a href="Database.Relational.Query.Type.html#typedInsert"><span class="hs-identifier">typedInsert</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#typedInsert%27"><span class="hs-identifier hs-var">typedInsert'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-241"></a><span>
</span><a name="line-242"></a><span class="hs-comment">-- | Table type inferred 'Insert'.</span><span>
</span><a name="line-243"></a><span class="hs-identifier">derivedInsert</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">PersistableWidth</span><span> </span><a href="#local-6989586621679474499"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">,</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474499"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474499"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474500"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474500"><span class="hs-identifier hs-type">r'</span></a><span>
</span><a name="line-244"></a><a name="derivedInsert"><a href="Database.Relational.Query.Type.html#derivedInsert"><span class="hs-identifier">derivedInsert</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsert"><span class="hs-identifier hs-var">typedInsert</span></a><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span>
</span><a name="line-245"></a><span>
</span><a name="line-246"></a><span class="hs-comment">-- | Make typed 'Insert' from 'Config', 'Table' and monadic builded 'InsertTarget' object.</span><span>
</span><a name="line-247"></a><span class="hs-identifier">typedInsertValue'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474497"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#InsertTarget"><span class="hs-identifier hs-type">InsertTarget</span></a><span> </span><a href="#local-6989586621679474498"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474497"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474498"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-248"></a><a name="typedInsertValue%27"><a href="Database.Relational.Query.Type.html#typedInsertValue%27"><span class="hs-identifier">typedInsertValue'</span></a></a><span> </span><a name="local-6989586621679474578"><a href="#local-6989586621679474578"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474579"><a href="#local-6989586621679474579"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474580"><a href="#local-6989586621679474580"><span class="hs-identifier">it</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-249"></a><span>    </span><a href="Database.Relational.Query.Type.html#unsafeTypedInsert%27"><span class="hs-identifier hs-var">unsafeTypedInsert'</span></a><span>
</span><a name="line-250"></a><span>    </span><span class="hs-special">(</span><a href="Database.Relational.Query.Internal.SQL.html#showStringSQL"><span class="hs-identifier hs-var">showStringSQL</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Effect.html#sqlFromInsertTarget"><span class="hs-identifier hs-var">sqlFromInsertTarget</span></a><span> </span><a href="#local-6989586621679474578"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474579"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474580"><span class="hs-identifier hs-var">it</span></a><span class="hs-special">)</span><span>
</span><a name="line-251"></a><span>    </span><span class="hs-special">(</span><a href="Database.Relational.Query.Internal.SQL.html#showStringSQL"><span class="hs-identifier hs-var">showStringSQL</span></a><span> </span><a href="#local-6989586621679474581"><span class="hs-identifier hs-var">ci</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679474582"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-252"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-253"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679474581"><a href="#local-6989586621679474581"><span class="hs-identifier">ci</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679474582"><a href="#local-6989586621679474582"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Effect.html#sqlChunkFromInsertTarget"><span class="hs-identifier hs-var">sqlChunkFromInsertTarget</span></a><span> </span><a href="#local-6989586621679474578"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474579"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474580"><span class="hs-identifier hs-var">it</span></a><span>
</span><a name="line-254"></a><span>
</span><a name="line-255"></a><span class="hs-comment">-- | Make typed 'Insert' from 'Table' and monadic builded 'InsertTarget' object.</span><span>
</span><a name="line-256"></a><span class="hs-identifier">typedInsertValue</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474495"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#InsertTarget"><span class="hs-identifier hs-type">InsertTarget</span></a><span> </span><a href="#local-6989586621679474496"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474495"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474496"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-257"></a><a name="typedInsertValue"><a href="Database.Relational.Query.Type.html#typedInsertValue"><span class="hs-identifier">typedInsertValue</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsertValue%27"><span class="hs-identifier hs-var">typedInsertValue'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-258"></a><span>
</span><a name="line-259"></a><span class="hs-comment">-- | Make typed 'Insert' from 'Config', derived table and monadic builded 'Register' object.</span><span>
</span><a name="line-260"></a><span class="hs-identifier">derivedInsertValue'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474493"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Register.html#Register"><span class="hs-identifier hs-type">Register</span></a><span> </span><a href="#local-6989586621679474493"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474494"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474494"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-261"></a><a name="derivedInsertValue%27"><a href="Database.Relational.Query.Type.html#derivedInsertValue%27"><span class="hs-identifier">derivedInsertValue'</span></a></a><span> </span><a name="local-6989586621679474583"><a href="#local-6989586621679474583"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474584"><a href="#local-6989586621679474584"><span class="hs-identifier">rs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedInsertValue%27"><span class="hs-identifier hs-var">typedInsertValue'</span></a><span> </span><a href="#local-6989586621679474583"><span class="hs-identifier hs-var">config</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679474585"><span class="hs-identifier hs-var">rt</span></a><span> </span><a href="#local-6989586621679474584"><span class="hs-identifier hs-var">rs</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Effect.html#insertTarget%27"><span class="hs-identifier hs-var">insertTarget'</span></a><span> </span><a href="#local-6989586621679474584"><span class="hs-identifier hs-var">rs</span></a><span>
</span><a name="line-262"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-263"></a><span>    </span><span class="hs-identifier">rt</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474586"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Register.html#Register"><span class="hs-identifier hs-type">Register</span></a><span> </span><a href="#local-6989586621679474586"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474587"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474586"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-264"></a><span>    </span><a name="local-6989586621679474585"><a href="#local-6989586621679474585"><span class="hs-identifier">rt</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier hs-var">const</span><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span>
</span><a name="line-265"></a><span>
</span><a name="line-266"></a><span class="hs-comment">-- | Make typed 'Insert' from 'defaultConfig', derived table and monadic builded 'Register' object.</span><span>
</span><a name="line-267"></a><span class="hs-identifier">derivedInsertValue</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Register.html#Register"><span class="hs-identifier hs-type">Register</span></a><span> </span><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474492"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474492"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-268"></a><a name="derivedInsertValue"><a href="Database.Relational.Query.Type.html#derivedInsertValue"><span class="hs-identifier">derivedInsertValue</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#derivedInsertValue%27"><span class="hs-identifier hs-var">derivedInsertValue'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-269"></a><span>
</span><a name="line-270"></a><span class="hs-comment">-- | Show insert SQL string.</span><span>
</span><a name="line-271"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><a href="#local-6989586621679474607"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-272"></a><span>  </span><a name="local-8214565720323790731"><span class="hs-identifier">show</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeInsert</span><span>
</span><a name="line-273"></a><span>
</span><a name="line-274"></a><span class="hs-comment">-- | InsertQuery type.</span><span>
</span><a name="line-275"></a><span class="hs-keyword">newtype</span><span> </span><a name="InsertQuery"><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier">InsertQuery</span></a></a><span> </span><a name="local-6989586621679474458"><a href="#local-6989586621679474458"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="InsertQuery"><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier">InsertQuery</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="untypeInsertQuery"><a href="Database.Relational.Query.Type.html#untypeInsertQuery"><span class="hs-identifier">untypeInsertQuery</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-276"></a><span>
</span><a name="line-277"></a><span class="hs-comment">-- | Unsafely make typed 'InsertQuery' from SQL string.</span><span>
</span><a name="line-278"></a><span class="hs-identifier">unsafeTypedInsertQuery</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-type">InsertQuery</span></a><span> </span><a href="#local-6989586621679474490"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-279"></a><a name="unsafeTypedInsertQuery"><a href="Database.Relational.Query.Type.html#unsafeTypedInsertQuery"><span class="hs-identifier">unsafeTypedInsertQuery</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-var">InsertQuery</span></a><span>
</span><a name="line-280"></a><span>
</span><a name="line-281"></a><span class="hs-comment">-- | Make untyped insert select SQL string from 'Table', 'Pi' and 'Relation'.</span><span>
</span><a name="line-282"></a><span class="hs-identifier">insertQuerySQL</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474487"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474487"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474488"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><a href="#local-6989586621679474489"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474488"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-283"></a><a name="insertQuerySQL"><a href="Database.Relational.Query.Type.html#insertQuerySQL"><span class="hs-identifier">insertQuerySQL</span></a></a><span> </span><a name="local-6989586621679474588"><a href="#local-6989586621679474588"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474589"><a href="#local-6989586621679474589"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474590"><a href="#local-6989586621679474590"><span class="hs-identifier">pi'</span></a></a><span> </span><a name="local-6989586621679474591"><a href="#local-6989586621679474591"><span class="hs-identifier">rel</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Internal.SQL.html#showStringSQL"><span class="hs-identifier hs-var">showStringSQL</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.SQL.html#insertPrefixSQL"><span class="hs-identifier hs-var">insertPrefixSQL</span></a><span> </span><a href="#local-6989586621679474590"><span class="hs-identifier hs-var">pi'</span></a><span> </span><a href="#local-6989586621679474589"><span class="hs-identifier hs-var">tbl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#sqlFromRelationWith"><span class="hs-identifier hs-var">sqlFromRelationWith</span></a><span> </span><a href="#local-6989586621679474591"><span class="hs-identifier hs-var">rel</span></a><span> </span><a href="#local-6989586621679474588"><span class="hs-identifier hs-var">config</span></a><span>
</span><a name="line-284"></a><span>
</span><a name="line-285"></a><span class="hs-comment">-- | Make typed 'InsertQuery' from columns selector 'Table', 'Pi' and 'Relation' with configuration parameter.</span><span>
</span><a name="line-286"></a><span class="hs-identifier">typedInsertQuery'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474484"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474484"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474485"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><a href="#local-6989586621679474486"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474485"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-type">InsertQuery</span></a><span> </span><a href="#local-6989586621679474486"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-287"></a><a name="typedInsertQuery%27"><a href="Database.Relational.Query.Type.html#typedInsertQuery%27"><span class="hs-identifier">typedInsertQuery'</span></a></a><span> </span><a name="local-6989586621679474592"><a href="#local-6989586621679474592"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474593"><a href="#local-6989586621679474593"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474594"><a href="#local-6989586621679474594"><span class="hs-identifier">pi'</span></a></a><span> </span><a name="local-6989586621679474595"><a href="#local-6989586621679474595"><span class="hs-identifier">rel</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedInsertQuery"><span class="hs-identifier hs-var">unsafeTypedInsertQuery</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Type.html#insertQuerySQL"><span class="hs-identifier hs-var">insertQuerySQL</span></a><span> </span><a href="#local-6989586621679474592"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474593"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474594"><span class="hs-identifier hs-var">pi'</span></a><span> </span><a href="#local-6989586621679474595"><span class="hs-identifier hs-var">rel</span></a><span>
</span><a name="line-288"></a><span>
</span><a name="line-289"></a><span class="hs-comment">-- | Make typed 'InsertQuery' from columns selector 'Table', 'Pi' and 'Relation'.</span><span>
</span><a name="line-290"></a><span class="hs-identifier">typedInsertQuery</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474481"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474481"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474482"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><a href="#local-6989586621679474483"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474482"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-type">InsertQuery</span></a><span> </span><a href="#local-6989586621679474483"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-291"></a><a name="typedInsertQuery"><a href="Database.Relational.Query.Type.html#typedInsertQuery"><span class="hs-identifier">typedInsertQuery</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#typedInsertQuery%27"><span class="hs-identifier hs-var">typedInsertQuery'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-292"></a><span>
</span><a name="line-293"></a><span class="hs-comment">-- | Table type inferred 'InsertQuery'.</span><span>
</span><a name="line-294"></a><span class="hs-identifier">derivedInsertQuery</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474478"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Pi.Unsafe.html#Pi"><span class="hs-identifier hs-type">Pi</span></a><span> </span><a href="#local-6989586621679474478"><span class="hs-identifier hs-type">r</span></a><span> </span><a href="#local-6989586621679474479"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.BaseType.html#Relation"><span class="hs-identifier hs-type">Relation</span></a><span> </span><a href="#local-6989586621679474480"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474479"><span class="hs-identifier hs-type">r'</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-type">InsertQuery</span></a><span> </span><a href="#local-6989586621679474480"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-295"></a><a name="derivedInsertQuery"><a href="Database.Relational.Query.Type.html#derivedInsertQuery"><span class="hs-identifier">derivedInsertQuery</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#typedInsertQuery"><span class="hs-identifier hs-var">typedInsertQuery</span></a><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span>
</span><a name="line-296"></a><span>
</span><a name="line-297"></a><span class="hs-comment">-- | Show insert SQL string.</span><span>
</span><a name="line-298"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-type">InsertQuery</span></a><span> </span><a href="#local-6989586621679474606"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-299"></a><span>  </span><a name="local-8214565720323790731"><span class="hs-identifier">show</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeInsertQuery</span><span>
</span><a name="line-300"></a><span>
</span><a name="line-301"></a><span>
</span><a name="line-302"></a><span class="hs-comment">-- | Delete type with place-holder parameter 'p'.</span><span>
</span><a name="line-303"></a><span class="hs-keyword">newtype</span><span> </span><a name="Delete"><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier">Delete</span></a></a><span> </span><a name="local-6989586621679474457"><a href="#local-6989586621679474457"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Delete"><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier">Delete</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="untypeDelete"><a href="Database.Relational.Query.Type.html#untypeDelete"><span class="hs-identifier">untypeDelete</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-304"></a><span>
</span><a name="line-305"></a><span class="hs-comment">-- | Unsafely make typed 'Delete' from SQL string.</span><span>
</span><a name="line-306"></a><span class="hs-identifier">unsafeTypedDelete</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><a href="#local-6989586621679474477"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-307"></a><a name="unsafeTypedDelete"><a href="Database.Relational.Query.Type.html#unsafeTypedDelete"><span class="hs-identifier">unsafeTypedDelete</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-var">Delete</span></a><span>
</span><a name="line-308"></a><span>
</span><a name="line-309"></a><span class="hs-comment">-- | Make untyped delete SQL string from 'Table' and 'Restriction'.</span><span>
</span><a name="line-310"></a><span class="hs-identifier">deleteSQL</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474475"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#Restriction"><span class="hs-identifier hs-type">Restriction</span></a><span> </span><a href="#local-6989586621679474476"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474475"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-311"></a><a name="deleteSQL"><a href="Database.Relational.Query.Type.html#deleteSQL"><span class="hs-identifier">deleteSQL</span></a></a><span> </span><a name="local-6989586621679474596"><a href="#local-6989586621679474596"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474597"><a href="#local-6989586621679474597"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474598"><a href="#local-6989586621679474598"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Internal.SQL.html#showStringSQL"><span class="hs-identifier hs-var">showStringSQL</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.SQL.html#deletePrefixSQL"><span class="hs-identifier hs-var">deletePrefixSQL</span></a><span> </span><a href="#local-6989586621679474597"><span class="hs-identifier hs-var">tbl</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#sqlWhereFromRestriction"><span class="hs-identifier hs-var">sqlWhereFromRestriction</span></a><span> </span><a href="#local-6989586621679474596"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474597"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474598"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-312"></a><span>
</span><a name="line-313"></a><span class="hs-comment">-- | Make typed 'Delete' from 'Config', 'Table' and 'Restriction'.</span><span>
</span><a name="line-314"></a><span class="hs-identifier">typedDelete'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474473"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#Restriction"><span class="hs-identifier hs-type">Restriction</span></a><span> </span><a href="#local-6989586621679474474"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474473"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><a href="#local-6989586621679474474"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-315"></a><a name="typedDelete%27"><a href="Database.Relational.Query.Type.html#typedDelete%27"><span class="hs-identifier">typedDelete'</span></a></a><span> </span><a name="local-6989586621679474599"><a href="#local-6989586621679474599"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474600"><a href="#local-6989586621679474600"><span class="hs-identifier">tbl</span></a></a><span> </span><a name="local-6989586621679474601"><a href="#local-6989586621679474601"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#unsafeTypedDelete"><span class="hs-identifier hs-var">unsafeTypedDelete</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Database.Relational.Query.Type.html#deleteSQL"><span class="hs-identifier hs-var">deleteSQL</span></a><span> </span><a href="#local-6989586621679474599"><span class="hs-identifier hs-var">config</span></a><span> </span><a href="#local-6989586621679474600"><span class="hs-identifier hs-var">tbl</span></a><span> </span><a href="#local-6989586621679474601"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-316"></a><span>
</span><a name="line-317"></a><span class="hs-comment">-- | Make typed 'Delete' from 'Table' and 'Restriction'.</span><span>
</span><a name="line-318"></a><span class="hs-identifier">typedDelete</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474471"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#Restriction"><span class="hs-identifier hs-type">Restriction</span></a><span> </span><a href="#local-6989586621679474472"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474471"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><a href="#local-6989586621679474472"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-319"></a><a name="typedDelete"><a href="Database.Relational.Query.Type.html#typedDelete"><span class="hs-identifier">typedDelete</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><a href="Database.Relational.Query.Type.html#typedDelete%27"><span class="hs-identifier hs-var">typedDelete'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-320"></a><span>
</span><a name="line-321"></a><span class="hs-identifier">restrictedTable</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474469"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Effect.html#Restriction"><span class="hs-identifier hs-type">Restriction</span></a><span> </span><a href="#local-6989586621679474470"><span class="hs-identifier hs-type">p</span></a><span> </span><a href="#local-6989586621679474469"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Table.html#Table"><span class="hs-identifier hs-type">Table</span></a><span> </span><a href="#local-6989586621679474469"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-322"></a><a name="restrictedTable"><a href="Database.Relational.Query.Type.html#restrictedTable"><span class="hs-identifier">restrictedTable</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier hs-var">const</span><span> </span><a href="Database.Relational.Query.Table.html#derivedTable"><span class="hs-identifier hs-var">derivedTable</span></a><span>
</span><a name="line-323"></a><span>
</span><a name="line-324"></a><span class="hs-comment">-- | Make typed 'Delete' from 'Config', derived table and 'RestrictContext'</span><span>
</span><a name="line-325"></a><span class="hs-identifier">derivedDelete'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474467"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Internal.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Restrict.html#RestrictedStatement"><span class="hs-identifier hs-type">RestrictedStatement</span></a><span> </span><a href="#local-6989586621679474467"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474468"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><a href="#local-6989586621679474468"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-326"></a><a name="derivedDelete%27"><a href="Database.Relational.Query.Type.html#derivedDelete%27"><span class="hs-identifier">derivedDelete'</span></a></a><span> </span><a name="local-6989586621679474602"><a href="#local-6989586621679474602"><span class="hs-identifier">config</span></a></a><span> </span><a name="local-6989586621679474603"><a href="#local-6989586621679474603"><span class="hs-identifier">rc</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#typedDelete%27"><span class="hs-identifier hs-var">typedDelete'</span></a><span> </span><a href="#local-6989586621679474602"><span class="hs-identifier hs-var">config</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#restrictedTable"><span class="hs-identifier hs-var">restrictedTable</span></a><span> </span><a href="#local-6989586621679474604"><span class="hs-identifier hs-var">rs</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679474604"><span class="hs-identifier hs-var">rs</span></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-327"></a><span>  </span><a name="local-6989586621679474604"><a href="#local-6989586621679474604"><span class="hs-identifier">rs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Effect.html#restriction%27"><span class="hs-identifier hs-var">restriction'</span></a><span> </span><a href="#local-6989586621679474603"><span class="hs-identifier hs-var">rc</span></a><span>
</span><a name="line-328"></a><span>
</span><a name="line-329"></a><span class="hs-comment">-- | Make typed 'Delete' from 'defaultConfig', derived table and 'RestrictContext'</span><span>
</span><a name="line-330"></a><span class="hs-identifier">derivedDelete</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Database.Relational.Query.Table.html#TableDerivable"><span class="hs-identifier hs-type">TableDerivable</span></a><span> </span><a href="#local-6989586621679474465"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Database.Relational.Query.Monad.Restrict.html#RestrictedStatement"><span class="hs-identifier hs-type">RestrictedStatement</span></a><span> </span><a href="#local-6989586621679474465"><span class="hs-identifier hs-type">r</span></a><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Projectable.html#PlaceHolders"><span class="hs-identifier hs-type">PlaceHolders</span></a><span> </span><a href="#local-6989586621679474466"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><a href="#local-6989586621679474466"><span class="hs-identifier hs-type">p</span></a><span>
</span><a name="line-331"></a><a name="derivedDelete"><a href="Database.Relational.Query.Type.html#derivedDelete"><span class="hs-identifier">derivedDelete</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.Relational.Query.Type.html#derivedDelete%27"><span class="hs-identifier hs-var">derivedDelete'</span></a><span> </span><a href="Database.Relational.Query.Internal.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a><span>
</span><a name="line-332"></a><span>
</span><a name="line-333"></a><span class="hs-comment">-- | Show delete SQL string</span><span>
</span><a name="line-334"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><a href="#local-6989586621679474605"><span class="hs-identifier hs-type">p</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-335"></a><span>  </span><a name="local-8214565720323790731"><span class="hs-identifier">show</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeDelete</span><span>
</span><a name="line-336"></a><span>
</span><a name="line-337"></a><span>
</span><a name="line-338"></a><span class="hs-comment">-- | Untype interface for typed no-result type statments</span><span>
</span><a name="line-339"></a><span class="hs-comment">--   with single type parameter which represents place-holder parameter 'p'.</span><span>
</span><a name="line-340"></a><span class="hs-keyword">class</span><span> </span><a name="UntypeableNoFetch"><a href="Database.Relational.Query.Type.html#UntypeableNoFetch"><span class="hs-identifier">UntypeableNoFetch</span></a></a><span> </span><a name="local-6989586621679474455"><a href="#local-6989586621679474455"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-341"></a><span>  </span><span class="hs-identifier">untypeNoFetch</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679474455"><span class="hs-identifier hs-type">s</span></a><span> </span><a href="#local-6989586621679474456"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-342"></a><span>
</span><a name="line-343"></a><span class="hs-keyword">instance</span><span> </span><a href="Database.Relational.Query.Type.html#UntypeableNoFetch"><span class="hs-identifier hs-type">UntypeableNoFetch</span></a><span> </span><a href="Database.Relational.Query.Type.html#Insert"><span class="hs-identifier hs-type">Insert</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-344"></a><span>  </span><a name="local-8214565720324249301"><a href="Database.Relational.Query.Type.html#untypeNoFetch"><span class="hs-identifier">untypeNoFetch</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeInsert</span><span>
</span><a name="line-345"></a><span>
</span><a name="line-346"></a><span class="hs-keyword">instance</span><span> </span><a href="Database.Relational.Query.Type.html#UntypeableNoFetch"><span class="hs-identifier hs-type">UntypeableNoFetch</span></a><span> </span><a href="Database.Relational.Query.Type.html#InsertQuery"><span class="hs-identifier hs-type">InsertQuery</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-347"></a><span>  </span><a name="local-8214565720324249301"><a href="Database.Relational.Query.Type.html#untypeNoFetch"><span class="hs-identifier">untypeNoFetch</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeInsertQuery</span><span>
</span><a name="line-348"></a><span>
</span><a name="line-349"></a><span class="hs-keyword">instance</span><span> </span><a href="Database.Relational.Query.Type.html#UntypeableNoFetch"><span class="hs-identifier hs-type">UntypeableNoFetch</span></a><span> </span><a href="Database.Relational.Query.Type.html#Update"><span class="hs-identifier hs-type">Update</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-350"></a><span>  </span><a name="local-8214565720324249301"><a href="Database.Relational.Query.Type.html#untypeNoFetch"><span class="hs-identifier">untypeNoFetch</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeUpdate</span><span>
</span><a name="line-351"></a><span>
</span><a name="line-352"></a><span class="hs-keyword">instance</span><span> </span><a href="Database.Relational.Query.Type.html#UntypeableNoFetch"><span class="hs-identifier hs-type">UntypeableNoFetch</span></a><span> </span><a href="Database.Relational.Query.Type.html#Delete"><span class="hs-identifier hs-type">Delete</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-353"></a><span>  </span><a name="local-8214565720324249301"><a href="Database.Relational.Query.Type.html#untypeNoFetch"><span class="hs-identifier">untypeNoFetch</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">untypeDelete</span><span>
</span><a name="line-354"></a></pre></body></html>