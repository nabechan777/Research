<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Database.Relational.Query.Projection</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Database-Relational-Query-Projection.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Database.Relational.Query.Projection.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">relational-query-0.9.5.0: Typeful, Modular, Relational, algebraic query engine</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>2013-2017 Kei Hibino</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>ex8k.hibino@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>unknown</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.Relational.Query.Projection</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Projection data structure and interface</a></li><li><a href="#g:2">Projections</a></li><li><a href="#g:3">List Projection</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines query projection type structure and interfaces.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Projection">Projection</a> c t</li><li class="src short"><a href="#v:width">width</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:columns">columns</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; [<a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>]</li><li class="src short"><a href="#v:untype">untype</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-Sub.html#t:UntypedProjection">UntypedProjection</a></li><li class="src short"><a href="#v:unsafeFromSqlTerms">unsafeFromSqlTerms</a> :: [<a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>] -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t</li><li class="src short"><a href="#v:unsafeFromQualifiedSubQuery">unsafeFromQualifiedSubQuery</a> :: <a href="Database-Relational-Query-Sub.html#t:Qualified">Qualified</a> <a href="Database-Relational-Query-Sub.html#t:SubQuery">SubQuery</a> -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t</li><li class="src short"><a href="#v:unsafeFromScalarSubQuery">unsafeFromScalarSubQuery</a> :: <a href="Database-Relational-Query-Sub.html#t:SubQuery">SubQuery</a> -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t</li><li class="src short"><a href="#v:unsafeFromTable">unsafeFromTable</a> :: <a href="Database-Relational-Query-Table.html#t:Table">Table</a> r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r</li><li class="src short"><a href="#v:unsafeStringSql">unsafeStringSql</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a></li><li class="src short"><a href="#v:pi">pi</a> :: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableWidth">PersistableWidth</a> a =&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a b -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b</li><li class="src short"><a href="#v:piMaybe">piMaybe</a> :: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableWidth">PersistableWidth</a> a =&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a b -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:piMaybe-39-">piMaybe'</a> :: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableWidth">PersistableWidth</a> a =&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> b) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:wpi">wpi</a> :: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableRecordWidth">PersistableRecordWidth</a> a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a b -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b</li><li class="src short"><a href="#v:flattenMaybe">flattenMaybe</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:just">just</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> r)</li><li class="src short"><a href="#v:unsafeToAggregated">unsafeToAggregated</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Flat">Flat</a> r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Aggregated">Aggregated</a> r</li><li class="src short"><a href="#v:unsafeToFlat">unsafeToFlat</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Aggregated">Aggregated</a> r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Flat">Flat</a> r</li><li class="src short"><a href="#v:unsafeChangeContext">unsafeChangeContext</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c' r</li><li class="src short"><a href="#v:unsafeStringSqlNotNullMaybe">unsafeStringSqlNotNullMaybe</a> :: <a href="../persistable-record-0.5.1.1/Database-Record-KeyConstraint.html#t:HasColumnConstraint">HasColumnConstraint</a> <a href="Database-Relational-Query-Constraint.html#t:NotNull">NotNull</a> r =&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> r) -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a></li><li class="src short"><a href="#v:pfmap">pfmap</a> :: <a href="Database-Relational-Query-ProjectableClass.html#t:ProductConstructor">ProductConstructor</a> (a -&gt; b) =&gt; (a -&gt; b) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b</li><li class="src short"><a href="#v:pap">pap</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (a -&gt; b) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b</li><li class="src short"><span class="keyword">data</span> <a href="#t:ListProjection">ListProjection</a> p t</li><li class="src short"><a href="#v:list">list</a> :: [p t] -&gt; <a href="Database-Relational-Query-Projection.html#t:ListProjection">ListProjection</a> p t</li><li class="src short"><a href="#v:unsafeListFromSubQuery">unsafeListFromSubQuery</a> :: <a href="Database-Relational-Query-Sub.html#t:SubQuery">SubQuery</a> -&gt; <a href="Database-Relational-Query-Projection.html#t:ListProjection">ListProjection</a> p t</li><li class="src short"><a href="#v:unsafeStringSqlList">unsafeStringSqlList</a> :: (p t -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>) -&gt; <a href="Database-Relational-Query-Projection.html#t:ListProjection">ListProjection</a> p t -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a></li></ul></div><div id="interface"><h1 id="g:1">Projection data structure and interface</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Projection" class="def">Projection</a> c t <a href="src/Database.Relational.Query.Internal.Sub.html#Projection" class="link">Source</a> <a href="#t:Projection" class="selflink">#</a></p><div class="doc"><p>Phantom typed projection. Projected into Haskell record type <code>t</code>.</p></div><div class="subs instances"><p id="control.i:Projection" class="caption collapser" onclick="toggleSection('i:Projection')">Instances</p><div id="section.i:Projection" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Projection:ProjectableMaybe:1" class="instance expander" onclick="toggleSection('i:id:Projection:ProjectableMaybe:1')"></span> <a href="Database-Relational-Query-Projectable.html#t:ProjectableMaybe">ProjectableMaybe</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c)</span> <a href="src/Database.Relational.Query.Projectable.html#line-523" class="link">Source</a> <a href="#t:ProjectableMaybe" class="selflink">#</a></td><td class="doc"><p>Control phantom <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type in projection type <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Projection:ProjectableMaybe:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:just">just</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/Database.Relational.Query.Projectable.html#just" class="link">Source</a> <a href="#v:just" class="selflink">#</a></p><p class="src"><a href="#v:flattenMaybe">flattenMaybe</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/Database.Relational.Query.Projectable.html#flattenMaybe" class="link">Source</a> <a href="#v:flattenMaybe" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Projection:ProjectableShowSql:2" class="instance expander" onclick="toggleSection('i:id:Projection:ProjectableShowSql:2')"></span> <a href="Database-Relational-Query-Projectable.html#t:ProjectableShowSql">ProjectableShowSql</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c)</span> <a href="src/Database.Relational.Query.Projectable.html#line-165" class="link">Source</a> <a href="#t:ProjectableShowSql" class="selflink">#</a></td><td class="doc"><p>Unsafely get SQL term from <code>Proejction</code>.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Projection:ProjectableShowSql:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unsafeShowSql-39-">unsafeShowSql'</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a> <a href="src/Database.Relational.Query.Projectable.html#unsafeShowSql%27" class="link">Source</a> <a href="#v:unsafeShowSql-39-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Projection:SqlProjectable:3" class="instance expander" onclick="toggleSection('i:id:Projection:SqlProjectable:3')"></span> <a href="Database-Relational-Query-Projectable.html#t:SqlProjectable">SqlProjectable</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:OverWindow">OverWindow</a>)</span> <a href="src/Database.Relational.Query.Projectable.html#line-105" class="link">Source</a> <a href="#t:SqlProjectable" class="selflink">#</a></td><td class="doc"><p>Unsafely make <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> from SQL terms.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Projection:SqlProjectable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unsafeProjectSqlTerms">unsafeProjectSqlTerms</a> :: [<a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>] -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:OverWindow">OverWindow</a> t <a href="src/Database.Relational.Query.Projectable.html#unsafeProjectSqlTerms" class="link">Source</a> <a href="#v:unsafeProjectSqlTerms" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Projection:SqlProjectable:4" class="instance expander" onclick="toggleSection('i:id:Projection:SqlProjectable:4')"></span> <a href="Database-Relational-Query-Projectable.html#t:SqlProjectable">SqlProjectable</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Aggregated">Aggregated</a>)</span> <a href="src/Database.Relational.Query.Projectable.html#line-101" class="link">Source</a> <a href="#t:SqlProjectable" class="selflink">#</a></td><td class="doc"><p>Unsafely make <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> from SQL terms.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Projection:SqlProjectable:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unsafeProjectSqlTerms">unsafeProjectSqlTerms</a> :: [<a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>] -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Aggregated">Aggregated</a> t <a href="src/Database.Relational.Query.Projectable.html#unsafeProjectSqlTerms" class="link">Source</a> <a href="#v:unsafeProjectSqlTerms" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Projection:SqlProjectable:5" class="instance expander" onclick="toggleSection('i:id:Projection:SqlProjectable:5')"></span> <a href="Database-Relational-Query-Projectable.html#t:SqlProjectable">SqlProjectable</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Flat">Flat</a>)</span> <a href="src/Database.Relational.Query.Projectable.html#line-97" class="link">Source</a> <a href="#t:SqlProjectable" class="selflink">#</a></td><td class="doc"><p>Unsafely make <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> from SQL terms.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Projection:SqlProjectable:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unsafeProjectSqlTerms">unsafeProjectSqlTerms</a> :: [<a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>] -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Flat">Flat</a> t <a href="src/Database.Relational.Query.Projectable.html#unsafeProjectSqlTerms" class="link">Source</a> <a href="#v:unsafeProjectSqlTerms" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Projection:Show:6" class="instance expander" onclick="toggleSection('i:id:Projection:Show:6')"></span> <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t)</span> <a href="src/Database.Relational.Query.Internal.Sub.html#line-151" class="link">Source</a> <a href="#t:Projection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Projection:Show:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t] -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:width" class="def">width</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> <a href="src/Database.Relational.Query.Projection.html#width" class="link">Source</a> <a href="#v:width" class="selflink">#</a></p><div class="doc"><p>Width of <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:columns" class="def">columns</a> <a href="src/Database.Relational.Query.Projection.html#columns" class="link">Source</a> <a href="#v:columns" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r</td><td class="doc"><p>Source <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>]</td><td class="doc"><p>Result SQL string list</p></td></tr></table></div><div class="doc"><p>Get column SQL string list of projection.</p></div></div><div class="top"><p class="src"><a id="v:untype" class="def">untype</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-Sub.html#t:UntypedProjection">UntypedProjection</a> <a href="src/Database.Relational.Query.Projection.html#untype" class="link">Source</a> <a href="#v:untype" class="selflink">#</a></p><div class="doc"><p>Unsafely get untyped projection.</p></div></div><div class="top"><p class="src"><a id="v:unsafeFromSqlTerms" class="def">unsafeFromSqlTerms</a> :: [<a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>] -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t <a href="src/Database.Relational.Query.Projection.html#unsafeFromSqlTerms" class="link">Source</a> <a href="#v:unsafeFromSqlTerms" class="selflink">#</a></p><div class="doc"><p>Unsafely generate <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> from SQL expression strings.</p></div></div><div class="top"><p class="src"><a id="v:unsafeFromQualifiedSubQuery" class="def">unsafeFromQualifiedSubQuery</a> :: <a href="Database-Relational-Query-Sub.html#t:Qualified">Qualified</a> <a href="Database-Relational-Query-Sub.html#t:SubQuery">SubQuery</a> -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t <a href="src/Database.Relational.Query.Projection.html#unsafeFromQualifiedSubQuery" class="link">Source</a> <a href="#v:unsafeFromQualifiedSubQuery" class="selflink">#</a></p><div class="doc"><p>Unsafely generate  <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> from qualified (joined) sub-query.</p></div></div><div class="top"><p class="src"><a id="v:unsafeFromScalarSubQuery" class="def">unsafeFromScalarSubQuery</a> :: <a href="Database-Relational-Query-Sub.html#t:SubQuery">SubQuery</a> -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c t <a href="src/Database.Relational.Query.Projection.html#unsafeFromScalarSubQuery" class="link">Source</a> <a href="#v:unsafeFromScalarSubQuery" class="selflink">#</a></p><div class="doc"><p>Unsafely generate <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> from scalar sub-query.</p></div></div><div class="top"><p class="src"><a id="v:unsafeFromTable" class="def">unsafeFromTable</a> :: <a href="Database-Relational-Query-Table.html#t:Table">Table</a> r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r <a href="src/Database.Relational.Query.Projection.html#unsafeFromTable" class="link">Source</a> <a href="#v:unsafeFromTable" class="selflink">#</a></p><div class="doc"><p>Unsafely generate unqualified <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> from <code><a href="Database-Relational-Query-Table.html#t:Table">Table</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unsafeStringSql" class="def">unsafeStringSql</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a> <a href="src/Database.Relational.Query.Projection.html#unsafeStringSql" class="link">Source</a> <a href="#v:unsafeStringSql" class="selflink">#</a></p><div class="doc"><p>Unsafely get SQL term from <code>Proejction</code>.</p></div></div><h1 id="g:2">Projections</h1><div class="top"><p class="src"><a id="v:pi" class="def">pi</a> <a href="src/Database.Relational.Query.Projection.html#pi" class="link">Source</a> <a href="#v:pi" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableWidth">PersistableWidth</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a</td><td class="doc"><p>Source <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a b</td><td class="doc"><p>Projection path</p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b</td><td class="doc"><p>Narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code></p></td></tr></table></div><div class="doc"><p>Trace projection path to get narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:piMaybe" class="def">piMaybe</a> <a href="src/Database.Relational.Query.Projection.html#piMaybe" class="link">Source</a> <a href="#v:piMaybe" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableWidth">PersistableWidth</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</td><td class="doc"><p>Source <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>. <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type</p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a b</td><td class="doc"><p>Projection path</p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> b)</td><td class="doc"><p>Narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>. <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type result</p></td></tr></table></div><div class="doc"><p>Trace projection path to get narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>. From <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type to <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type.</p></div></div><div class="top"><p class="src"><a id="v:piMaybe-39-" class="def">piMaybe'</a> <a href="src/Database.Relational.Query.Projection.html#piMaybe%27" class="link">Source</a> <a href="#v:piMaybe-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableWidth">PersistableWidth</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</td><td class="doc"><p>Source <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>. <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type</p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> b)</td><td class="doc"><p>Projection path. <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type leaf</p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> b)</td><td class="doc"><p>Narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>. <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type result</p></td></tr></table></div><div class="doc"><p>Trace projection path to get narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>. From <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type to <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> type.
   Leaf type of projection path is <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:wpi" class="def">wpi</a> <a href="src/Database.Relational.Query.Projection.html#wpi" class="link">Source</a> <a href="#v:wpi" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../persistable-record-0.5.1.1/Database-Record-Persistable.html#t:PersistableRecordWidth">PersistableRecordWidth</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a</td><td class="doc"><p>Source <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Pi-Unsafe.html#t:Pi">Pi</a> a b</td><td class="doc"><p>Projection path</p></td></tr><tr><td class="src">-&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b</td><td class="doc"><p>Narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code></p></td></tr></table></div><div class="doc"><p>Trace projection path to get narrower <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:flattenMaybe" class="def">flattenMaybe</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/Database.Relational.Query.Projection.html#flattenMaybe" class="link">Source</a> <a href="#v:flattenMaybe" class="selflink">#</a></p><div class="doc"><p>Composite nested <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> on projection phantom type.</p></div></div><div class="top"><p class="src"><a id="v:just" class="def">just</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> r) <a href="src/Database.Relational.Query.Projection.html#just" class="link">Source</a> <a href="#v:just" class="selflink">#</a></p><div class="doc"><p>Cast into <code><a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a></code> on projection phantom type.</p></div></div><div class="top"><p class="src"><a id="v:unsafeToAggregated" class="def">unsafeToAggregated</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Flat">Flat</a> r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Aggregated">Aggregated</a> r <a href="src/Database.Relational.Query.Projection.html#unsafeToAggregated" class="link">Source</a> <a href="#v:unsafeToAggregated" class="selflink">#</a></p><div class="doc"><p>Unsafely lift to aggregated context.</p></div></div><div class="top"><p class="src"><a id="v:unsafeToFlat" class="def">unsafeToFlat</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Aggregated">Aggregated</a> r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> <a href="Database-Relational-Query-Context.html#t:Flat">Flat</a> r <a href="src/Database.Relational.Query.Projection.html#unsafeToFlat" class="link">Source</a> <a href="#v:unsafeToFlat" class="selflink">#</a></p><div class="doc"><p>Unsafely down to flat context.</p></div></div><div class="top"><p class="src"><a id="v:unsafeChangeContext" class="def">unsafeChangeContext</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c r -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c' r <a href="src/Database.Relational.Query.Projection.html#unsafeChangeContext" class="link">Source</a> <a href="#v:unsafeChangeContext" class="selflink">#</a></p><div class="doc"><p>Unsafely cast context type tag.</p></div></div><div class="top"><p class="src"><a id="v:unsafeStringSqlNotNullMaybe" class="def">unsafeStringSqlNotNullMaybe</a> :: <a href="../persistable-record-0.5.1.1/Database-Record-KeyConstraint.html#t:HasColumnConstraint">HasColumnConstraint</a> <a href="Database-Relational-Query-Constraint.html#t:NotNull">NotNull</a> r =&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> r) -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a> <a href="src/Database.Relational.Query.Projection.html#unsafeStringSqlNotNullMaybe" class="link">Source</a> <a href="#v:unsafeStringSqlNotNullMaybe" class="selflink">#</a></p><div class="doc"><p>Unsafely get SQL string expression of not null key projection.</p></div></div><div class="top"><p class="src"><a id="v:pfmap" class="def">pfmap</a> :: <a href="Database-Relational-Query-ProjectableClass.html#t:ProductConstructor">ProductConstructor</a> (a -&gt; b) =&gt; (a -&gt; b) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b <a href="src/Database.Relational.Query.Projection.html#pfmap" class="link">Source</a> <a href="#v:pfmap" class="selflink">#</a></p><div class="doc"><p>Projectable fmap of <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> type.</p></div></div><div class="top"><p class="src"><a id="v:pap" class="def">pap</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (a -&gt; b) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b <a href="src/Database.Relational.Query.Projection.html#pap" class="link">Source</a> <a href="#v:pap" class="selflink">#</a></p><div class="doc"><p>Projectable ap of <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> type.</p></div></div><h1 id="g:3">List Projection</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ListProjection" class="def">ListProjection</a> p t <a href="src/Database.Relational.Query.Projection.html#ListProjection" class="link">Source</a> <a href="#t:ListProjection" class="selflink">#</a></p><div class="doc"><p>Projection type for row list.</p></div></div><div class="top"><p class="src"><a id="v:list" class="def">list</a> :: [p t] -&gt; <a href="Database-Relational-Query-Projection.html#t:ListProjection">ListProjection</a> p t <a href="src/Database.Relational.Query.Projection.html#list" class="link">Source</a> <a href="#v:list" class="selflink">#</a></p><div class="doc"><p>Make row list projection from <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> list.</p></div></div><div class="top"><p class="src"><a id="v:unsafeListFromSubQuery" class="def">unsafeListFromSubQuery</a> :: <a href="Database-Relational-Query-Sub.html#t:SubQuery">SubQuery</a> -&gt; <a href="Database-Relational-Query-Projection.html#t:ListProjection">ListProjection</a> p t <a href="src/Database.Relational.Query.Projection.html#unsafeListFromSubQuery" class="link">Source</a> <a href="#v:unsafeListFromSubQuery" class="selflink">#</a></p><div class="doc"><p>Make row list projection from <code><a href="Database-Relational-Query-Sub.html#t:SubQuery">SubQuery</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unsafeStringSqlList" class="def">unsafeStringSqlList</a> :: (p t -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a>) -&gt; <a href="Database-Relational-Query-Projection.html#t:ListProjection">ListProjection</a> p t -&gt; <a href="Database-Relational-Query-ProjectableClass.html#t:StringSQL">StringSQL</a> <a href="src/Database.Relational.Query.Projection.html#unsafeStringSqlList" class="link">Source</a> <a href="#v:unsafeStringSqlList" class="selflink">#</a></p><div class="doc"><p>Map projection show operatoions and concatinate to single SQL expression.</p></div></div><h1>Orphan instances</h1><div id="section.orphans" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:ProjectableApplicative:ProjectableApplicative:1" class="instance expander" onclick="toggleSection('i:o:ic:ProjectableApplicative:ProjectableApplicative:1')"></span> <a href="Database-Relational-Query-ProjectableClass.html#t:ProjectableApplicative">ProjectableApplicative</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c)</span> <a href="src/Database.Relational.Query.Projection.html#line-189" class="link">Source</a> <a href="#v:-36-fProjectableApplicativeProjection" class="selflink">#</a></td><td class="doc"><p>Compose record type <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code> using applicative style.</p></td></tr><tr><td colspan="2"><div id="section.i:o:ic:ProjectableApplicative:ProjectableApplicative:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-124--42--124-">(|*|)</a> :: <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c (a -&gt; b) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b <a href="src/Database.Relational.Query.ProjectableClass.html#%7C%2A%7C" class="link">Source</a> <a href="#v:-124--42--124-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:ProjectableFunctor:ProjectableFunctor:2" class="instance expander" onclick="toggleSection('i:o:ic:ProjectableFunctor:ProjectableFunctor:2')"></span> <a href="Database-Relational-Query-ProjectableClass.html#t:ProjectableFunctor">ProjectableFunctor</a> (<a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c)</span> <a href="src/Database.Relational.Query.Projection.html#line-185" class="link">Source</a> <a href="#v:-36-fProjectableFunctorProjection" class="selflink">#</a></td><td class="doc"><p>Compose seed of record type <code><a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a></code>.</p></td></tr><tr><td colspan="2"><div id="section.i:o:ic:ProjectableFunctor:ProjectableFunctor:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-124--36--124-">(|$|)</a> :: <a href="Database-Relational-Query-ProjectableClass.html#t:ProductConstructor">ProductConstructor</a> (a -&gt; b) =&gt; (a -&gt; b) -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c a -&gt; <a href="Database-Relational-Query-Projection.html#t:Projection">Projection</a> c b <a href="src/Database.Relational.Query.ProjectableClass.html#%7C%24%7C" class="link">Source</a> <a href="#v:-124--36--124-" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>