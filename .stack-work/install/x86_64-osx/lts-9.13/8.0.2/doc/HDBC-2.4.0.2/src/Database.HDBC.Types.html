<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{- |
   Module     : Database.HDBC.Types
   Copyright  : Copyright (C) 2005-2011 John Goerzen
   License    : BSD3

   Maintainer : John Goerzen &lt;jgoerzen@complete.org&gt;
   Stability  : provisional
   Portability: portable

Types for HDBC.

Please note: this module is intended for authors of database driver libraries
only.  Authors of applications using HDBC should use 'Database.HDBC'
exclusively.

Written by John Goerzen, jgoerzen\@complete.org
-}</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">HDBC</span><span class="hs-operator">.</span><span class="hs-identifier">Types</span><span>
</span><a name="line-20"></a><span>    </span><span class="hs-special">(</span><a href="Database.HDBC.Types.html#IConnection"><span class="hs-identifier hs-type">IConnection</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-21"></a><span>    </span><a href="Database.HDBC.Statement.html#Statement"><span class="hs-identifier hs-type">Statement</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-22"></a><span>    </span><a href="Database.HDBC.Statement.html#SqlError"><span class="hs-identifier hs-type">SqlError</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>    </span><a href="Database.HDBC.SqlValue.html#nToSql"><span class="hs-identifier hs-var">nToSql</span></a><span class="hs-special">,</span><span> </span><a href="Database.HDBC.SqlValue.html#iToSql"><span class="hs-identifier hs-var">iToSql</span></a><span class="hs-special">,</span><span> </span><a href="Database.HDBC.SqlValue.html#posixToSql"><span class="hs-identifier hs-var">posixToSql</span></a><span class="hs-special">,</span><span> </span><a href="Database.HDBC.SqlValue.html#fromSql"><span class="hs-identifier hs-var">fromSql</span></a><span class="hs-special">,</span><span> </span><a href="Database.HDBC.SqlValue.html#safeFromSql"><span class="hs-identifier hs-var">safeFromSql</span></a><span class="hs-special">,</span><span> </span><a href="Database.HDBC.SqlValue.html#toSql"><span class="hs-identifier hs-var">toSql</span></a><span class="hs-special">,</span><span>
</span><a name="line-24"></a><span>    </span><a href="Database.HDBC.SqlValue.html#SqlValue"><span class="hs-identifier hs-type">SqlValue</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-25"></a><span>    </span><a href="Database.HDBC.Types.html#ConnWrapper"><span class="hs-identifier hs-type">ConnWrapper</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>    </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span>
</span><a name="line-27"></a><span>    </span><span class="hs-special">)</span><span>
</span><a name="line-28"></a><span>
</span><a name="line-29"></a><span class="hs-keyword">where</span><span>
</span><a name="line-30"></a><span class="hs-keyword">import</span><span> </span><a href="Database.HDBC.Statement.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">HDBC</span><span class="hs-operator">.</span><span class="hs-identifier">Statement</span></a><span>
</span><a name="line-31"></a><span class="hs-keyword">import</span><span> </span><a href="Database.HDBC.ColTypes.html"><span class="hs-identifier">Database</span><span class="hs-operator">.</span><span class="hs-identifier">HDBC</span><span class="hs-operator">.</span><span class="hs-identifier">ColTypes</span></a><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Exception</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-var">finally</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-33"></a><span>
</span><a name="line-34"></a><span class="hs-comment">{- | Main database handle object.

An 'IConnection' object is created by specific functions in the module for an
individual database.  That is, the connect function -- which creates
this object -- is not standardized through the HDBC interface.

A connection is closed by a call to 'disconnect'.

A call to 'commit' is required to make sure that your changes get committed
to the database.  In other words, HDBC has /no support for autocommit/, which
we consider an outdated notion.
-}</span><span>
</span><a name="line-46"></a><span class="hs-keyword">class</span><span> </span><a name="IConnection"><a href="Database.HDBC.Types.html#IConnection"><span class="hs-identifier">IConnection</span></a></a><span> </span><a name="local-6989586621679053271"><a href="#local-6989586621679053271"><span class="hs-identifier">conn</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-47"></a><span>                </span><span class="hs-comment">{- | Disconnect from the remote database.

You do not need to explicitly close an IConnection object, but you may do so if
you so desire.  If you don't, the object will disconnect from the database
in a sane way when it is garbage-collected.  However, a disconnection may
raise an error, so you are encouraged to explicitly call 'disconnect'.  Also,
garbage collection may not run when the program terminates, and some databases
really like an explicit disconnect.

So, bottom line is, you're best off calling 'disconnect' directly, but the
world won't end if you forget.

This function discards any data not committed already.  Database driver
implementators should explicitly call 'rollback' if their databases don't
do this automatically on disconnect.

Bad Things (TM) could happen if you call this while you have 'Statement's 
active.  In more precise language, the results in such situations are undefined
and vary by database.  So don't do it.

-}</span><span>
</span><a name="line-68"></a><span>                </span><span class="hs-identifier">disconnect</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-69"></a><span>                </span><span class="hs-comment">{- | Commit any pending data to the database.

                   Required to make any changes take effect. -}</span><span>
</span><a name="line-72"></a><span>                </span><span class="hs-identifier">commit</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-73"></a><span>                </span><span class="hs-comment">{- | Roll back to the state the database was in prior to the
                   last 'commit' or 'rollback'. -}</span><span>
</span><a name="line-75"></a><span>                </span><span class="hs-identifier">rollback</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-76"></a><span>                </span><span class="hs-comment">{- | Execute an SQL string, which may contain multiple
                   queries. This is intended for situations where you
                   need to run DML or DDL queries and aren't
                   interested in results. -}</span><span>
</span><a name="line-80"></a><span>                </span><span class="hs-identifier">runRaw</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-81"></a><span>                </span><a name="local-8214565720323828168"><a href="Database.HDBC.Types.html#runRaw"><span class="hs-identifier">runRaw</span></a></a><span> </span><a name="local-6989586621679053272"><a href="#local-6989586621679053272"><span class="hs-identifier">conn</span></a></a><span> </span><a name="local-6989586621679053273"><a href="#local-6989586621679053273"><span class="hs-identifier">sql</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-82"></a><span>                  </span><a name="local-6989586621679053274"><a href="#local-6989586621679053274"><span class="hs-identifier">sth</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="Database.HDBC.Types.html#prepare"><span class="hs-identifier hs-var">prepare</span></a><span> </span><a href="#local-6989586621679053272"><span class="hs-identifier hs-var">conn</span></a><span> </span><a href="#local-6989586621679053273"><span class="hs-identifier hs-var">sql</span></a><span>
</span><a name="line-83"></a><span>                  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">execute</span><span> </span><a href="#local-6989586621679053274"><span class="hs-identifier hs-var">sth</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">finally</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">finish</span><span> </span><a href="#local-6989586621679053274"><span class="hs-identifier hs-var">sth</span></a><span>
</span><a name="line-84"></a><span>                  </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-85"></a><span>                </span><span class="hs-comment">{- | Execute a single SQL query.  Returns the number
                   of rows modified (see 'execute' for details).
                   The second parameter is a list
                   of replacement values, if any. -}</span><span>
</span><a name="line-89"></a><span>                </span><span class="hs-identifier">run</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Database.HDBC.SqlValue.html#SqlValue"><span class="hs-identifier hs-type">SqlValue</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-identifier hs-type">Integer</span><span>
</span><a name="line-90"></a><span>                </span><span class="hs-comment">{- | Prepares a statement for execution. 

                   Question marks in the statement will be replaced by
                   positional parameters in a later call to 'execute'.

                   Please note that, depending on the database
                   and the driver, errors in your SQL may be raised
                   either here or by 'execute'.  Make sure you
                   handle exceptions both places if necessary. -}</span><span>
</span><a name="line-99"></a><span>                </span><span class="hs-identifier">prepare</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><a href="Database.HDBC.Statement.html#Statement"><span class="hs-identifier hs-type">Statement</span></a><span>
</span><a name="line-100"></a><span>                </span><span class="hs-comment">{- | Create a new 'Connection' object, pointed at the same
                   server as this object is.  This will generally establish
                   a separate physical connection.

                   When you wish to establish multiple connections to a single
                   server, the correct way to do so is to establish the
                   first connection with the driver-specific connection
                   function, and then clone it for each additional connection.
                   
                   This can be important when a database doesn't provide
                   much thread support itself, and the HDBC driver module
                   must serialize access to a particular database.

                   This can also be a handy utility function whenever you
                   need a separate connection to whatever database you are
                   connected to already. -}</span><span>
</span><a name="line-116"></a><span>                </span><span class="hs-identifier">clone</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span>
</span><a name="line-117"></a><span>
</span><a name="line-118"></a><span>
</span><a name="line-119"></a><span>                </span><span class="hs-comment">{- | The name of the HDBC driver module for this connection.
                   Ideally would be the same as the database name portion
                   of the Cabal package name.  For instance, \&quot;sqlite3\&quot;
                   or \&quot;odbc\&quot;.  This is the layer that is bound most
                   tightly to HDBC. -}</span><span>
</span><a name="line-124"></a><span>                </span><span class="hs-identifier">hdbcDriverName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-125"></a><span>                </span><span class="hs-comment">{- | The version of the C (or whatever) client library
                   that the HDBC driver module is bound to.  The meaning
                   of this is driver-specific.  For an ODBC or similar
                   proxying driver, this should be the version of the
                   ODBC library, not the eventual DB client driver. -}</span><span>
</span><a name="line-130"></a><span>                </span><span class="hs-identifier">hdbcClientVer</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-131"></a><span>                </span><span class="hs-comment">{- | In the case of a system such as ODBC, the name of
                   the database client\/server in use, if available.
                   For others,
                   identical to 'hdbcDriverName'. -}</span><span>
</span><a name="line-135"></a><span>                </span><span class="hs-identifier">proxiedClientName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-136"></a><span>                </span><span class="hs-comment">{- | In the case of a system such as ODBC, the version of
                   the database client in use, if available.  For others,
                   identical to 'hdbcClientVer'. This is the next layer
                   out past the HDBC driver. -}</span><span>
</span><a name="line-140"></a><span>                </span><span class="hs-identifier">proxiedClientVer</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-141"></a><span>                </span><span class="hs-comment">{- | The version of the database server, if available. -}</span><span>
</span><a name="line-142"></a><span>                </span><span class="hs-identifier">dbServerVer</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-143"></a><span>                </span><span class="hs-comment">{- | Whether or not the current database supports transactions.
                   If False, then 'commit' and 'rollback' should be expected
                   to raise errors.

                   MySQL is the only commonly-used database that is known
                   to not support transactions entirely.  Please see
                   the MySQL notes in the ODBC driver for more information. -}</span><span>
</span><a name="line-150"></a><span>                </span><span class="hs-identifier">dbTransactionSupport</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-151"></a><span>
</span><a name="line-152"></a><span>                </span><span class="hs-comment">{- | The names of all tables accessible by the current
                   connection, excluding special meta-tables (system tables).
                   
                   You should expect this to be returned in the same manner
                   as a result from 'Database.HDBC.fetchAllRows''.

                   All results should be converted to lowercase for you
                   before you see them.
                     -}</span><span>
</span><a name="line-161"></a><span>                </span><span class="hs-identifier">getTables</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-type">String</span><span class="hs-special">]</span><span>
</span><a name="line-162"></a><span>
</span><a name="line-163"></a><span>                </span><span class="hs-comment">{- | Obtain information about the columns in a specific
                   table.  The String in the result
                   set is the column name.

                   You should expect this to be returned in the same manner
                   as a result from 'Database.HDBC.fetchAllRows''.

                   All results should be converted to lowercase for you
                   before you see them.
                   -}</span><span>
</span><a name="line-173"></a><span>                </span><span class="hs-identifier">describeTable</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679053271"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">IO</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier hs-type">String</span><span class="hs-special">,</span><span> </span><a href="Database.HDBC.ColTypes.html#SqlColDesc"><span class="hs-identifier hs-type">SqlColDesc</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-174"></a><span>
</span><a name="line-175"></a><span class="hs-comment">{- | Sometimes, it is annoying to use typeclasses with Haskell's type system.
In those situations, you can use a ConnWrapper.  You can create one with:

&gt;let wrapped = ConnWrapper iconn

You can then use this directly, since a ConnWrapper is also an
'IConnection'.  However, you will not be able to use private database
functions on it.

Or, you can use 'withWConn'.
-}</span><span>
</span><a name="line-186"></a><span class="hs-keyword">data</span><span> </span><a name="ConnWrapper"><a href="Database.HDBC.Types.html#ConnWrapper"><span class="hs-identifier">ConnWrapper</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679053270"><a href="#local-6989586621679053270"><span class="hs-identifier">conn</span></a></a><span class="hs-operator">.</span><span> </span><a href="Database.HDBC.Types.html#IConnection"><span class="hs-identifier hs-type">IConnection</span></a><span> </span><a href="#local-6989586621679053270"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="ConnWrapper"><a href="Database.HDBC.Types.html#ConnWrapper"><span class="hs-identifier">ConnWrapper</span></a></a><span> </span><a href="#local-6989586621679053270"><span class="hs-identifier hs-type">conn</span></a><span>
</span><a name="line-187"></a><span>
</span><a name="line-188"></a><span class="hs-comment">{- | Unwrap a 'ConnWrapper' and pass the embedded 'IConnection' to
a function.  Example:

&gt;withWConn wrapped run $ &quot;SELECT * from foo where bar = 1&quot; []
-}</span><span>
</span><a name="line-193"></a><span class="hs-identifier">withWConn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679053602"><a href="#local-6989586621679053602"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="Database.HDBC.Types.html#ConnWrapper"><span class="hs-identifier hs-type">ConnWrapper</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679053603"><a href="#local-6989586621679053603"><span class="hs-identifier">conn</span></a></a><span class="hs-operator">.</span><span> </span><a href="Database.HDBC.Types.html#IConnection"><span class="hs-identifier hs-type">IConnection</span></a><span> </span><a href="#local-6989586621679053603"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679053603"><span class="hs-identifier hs-type">conn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679053602"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679053602"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-194"></a><a name="withWConn"><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier">withWConn</span></a></a><span> </span><a name="local-6989586621679053604"><a href="#local-6989586621679053604"><span class="hs-identifier">conn</span></a></a><span> </span><a name="local-6989586621679053605"><a href="#local-6989586621679053605"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-195"></a><span>    </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679053604"><span class="hs-identifier hs-var">conn</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-196"></a><span>         </span><a href="Database.HDBC.Types.html#ConnWrapper"><span class="hs-identifier hs-var">ConnWrapper</span></a><span> </span><a name="local-6989586621679053606"><a href="#local-6989586621679053606"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679053605"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679053606"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-197"></a><span>
</span><a name="line-198"></a><span class="hs-keyword">instance</span><span> </span><a href="Database.HDBC.Types.html#IConnection"><span class="hs-identifier hs-type">IConnection</span></a><span> </span><a href="Database.HDBC.Types.html#ConnWrapper"><span class="hs-identifier hs-type">ConnWrapper</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-199"></a><span>    </span><a name="local-8214565720323828165"><a href="Database.HDBC.Types.html#disconnect"><span class="hs-identifier">disconnect</span></a></a><span> </span><a name="local-6989586621679053607"><a href="#local-6989586621679053607"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053607"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#disconnect"><span class="hs-identifier hs-var">disconnect</span></a><span>
</span><a name="line-200"></a><span>    </span><a name="local-8214565720323828166"><a href="Database.HDBC.Types.html#commit"><span class="hs-identifier">commit</span></a></a><span> </span><a name="local-6989586621679053608"><a href="#local-6989586621679053608"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053608"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#commit"><span class="hs-identifier hs-var">commit</span></a><span>
</span><a name="line-201"></a><span>    </span><a name="local-8214565720323828167"><a href="Database.HDBC.Types.html#rollback"><span class="hs-identifier">rollback</span></a></a><span> </span><a name="local-6989586621679053609"><a href="#local-6989586621679053609"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053609"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#rollback"><span class="hs-identifier hs-var">rollback</span></a><span>
</span><a name="line-202"></a><span>    </span><a name="local-8214565720323828168"><a href="Database.HDBC.Types.html#runRaw"><span class="hs-identifier">runRaw</span></a></a><span> </span><a name="local-6989586621679053610"><a href="#local-6989586621679053610"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053610"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#runRaw"><span class="hs-identifier hs-var">runRaw</span></a><span>
</span><a name="line-203"></a><span>    </span><a name="local-8214565720323828169"><a href="Database.HDBC.Types.html#run"><span class="hs-identifier">run</span></a></a><span> </span><a name="local-6989586621679053611"><a href="#local-6989586621679053611"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053611"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#run"><span class="hs-identifier hs-var">run</span></a><span>
</span><a name="line-204"></a><span>    </span><a name="local-8214565720323828170"><a href="Database.HDBC.Types.html#prepare"><span class="hs-identifier">prepare</span></a></a><span> </span><a name="local-6989586621679053612"><a href="#local-6989586621679053612"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053612"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#prepare"><span class="hs-identifier hs-var">prepare</span></a><span>
</span><a name="line-205"></a><span>    </span><a name="local-8214565720323828171"><a href="Database.HDBC.Types.html#clone"><span class="hs-identifier">clone</span></a></a><span> </span><a name="local-6989586621679053613"><a href="#local-6989586621679053613"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053613"><span class="hs-identifier hs-var">w</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679053614"><a href="#local-6989586621679053614"><span class="hs-identifier">dbh</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Database.HDBC.Types.html#clone"><span class="hs-identifier hs-var">clone</span></a><span> </span><a href="#local-6989586621679053614"><span class="hs-identifier hs-var">dbh</span></a><span> </span><span class="hs-operator hs-var">&gt;&gt;=</span><span> </span><span class="hs-identifier hs-var">return</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Database.HDBC.Types.html#ConnWrapper"><span class="hs-identifier hs-var">ConnWrapper</span></a><span class="hs-special">)</span><span>
</span><a name="line-206"></a><span>    </span><a name="local-8214565720323828172"><a href="Database.HDBC.Types.html#hdbcDriverName"><span class="hs-identifier">hdbcDriverName</span></a></a><span> </span><a name="local-6989586621679053615"><a href="#local-6989586621679053615"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053615"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#hdbcDriverName"><span class="hs-identifier hs-var">hdbcDriverName</span></a><span>
</span><a name="line-207"></a><span>    </span><a name="local-8214565720323828173"><a href="Database.HDBC.Types.html#hdbcClientVer"><span class="hs-identifier">hdbcClientVer</span></a></a><span> </span><a name="local-6989586621679053616"><a href="#local-6989586621679053616"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053616"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#hdbcClientVer"><span class="hs-identifier hs-var">hdbcClientVer</span></a><span>
</span><a name="line-208"></a><span>    </span><a name="local-8214565720323828174"><a href="Database.HDBC.Types.html#proxiedClientName"><span class="hs-identifier">proxiedClientName</span></a></a><span> </span><a name="local-6989586621679053617"><a href="#local-6989586621679053617"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053617"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#proxiedClientName"><span class="hs-identifier hs-var">proxiedClientName</span></a><span>
</span><a name="line-209"></a><span>    </span><a name="local-8214565720323828175"><a href="Database.HDBC.Types.html#proxiedClientVer"><span class="hs-identifier">proxiedClientVer</span></a></a><span> </span><a name="local-6989586621679053618"><a href="#local-6989586621679053618"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053618"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#proxiedClientVer"><span class="hs-identifier hs-var">proxiedClientVer</span></a><span>
</span><a name="line-210"></a><span>    </span><a name="local-8214565720323828176"><a href="Database.HDBC.Types.html#dbServerVer"><span class="hs-identifier">dbServerVer</span></a></a><span> </span><a name="local-6989586621679053619"><a href="#local-6989586621679053619"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053619"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#dbServerVer"><span class="hs-identifier hs-var">dbServerVer</span></a><span>
</span><a name="line-211"></a><span>    </span><a name="local-8214565720323828177"><a href="Database.HDBC.Types.html#dbTransactionSupport"><span class="hs-identifier">dbTransactionSupport</span></a></a><span> </span><a name="local-6989586621679053620"><a href="#local-6989586621679053620"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053620"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#dbTransactionSupport"><span class="hs-identifier hs-var">dbTransactionSupport</span></a><span>
</span><a name="line-212"></a><span>    </span><a name="local-8214565720323828178"><a href="Database.HDBC.Types.html#getTables"><span class="hs-identifier">getTables</span></a></a><span> </span><a name="local-6989586621679053621"><a href="#local-6989586621679053621"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053621"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#getTables"><span class="hs-identifier hs-var">getTables</span></a><span>
</span><a name="line-213"></a><span>    </span><a name="local-8214565720323828179"><a href="Database.HDBC.Types.html#describeTable"><span class="hs-identifier">describeTable</span></a></a><span> </span><a name="local-6989586621679053622"><a href="#local-6989586621679053622"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Database.HDBC.Types.html#withWConn"><span class="hs-identifier hs-var">withWConn</span></a><span> </span><a href="#local-6989586621679053622"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Database.HDBC.Types.html#describeTable"><span class="hs-identifier hs-var">describeTable</span></a><span>
</span><a name="line-214"></a><span>
</span><a name="line-215"></a></pre></body></html>